<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Day 3 ‚Äî Security Hub & CIS Benchmark</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&family=DM+Serif+Display:ital@0;1&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#0d0f14; --surface:#13161d; --surface2:#181c26;
  --border:#1f2330; --border-hi:#2e3447;
  --text:#c8d0e0; --muted:#5a6178; --faint:#3a3f52;
  --accent:#4af0c4; --accent-dim:rgba(74,240,196,.08);
  --amber:#f0924a; --violet:#8a7fff; --danger:#f05a5a;
  --code-bg:#0a0c10; --pill:#1a1f2e;
  --lab:#f0c84a; --lab-dim:rgba(240,200,74,.08);
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--text);font-family:'DM Sans',sans-serif;font-weight:300;font-size:15px;line-height:1.75;min-height:100vh;overflow-x:hidden}
.shell{display:grid;grid-template-columns:268px 1fr;min-height:100vh}
.sidebar{background:var(--surface);border-right:1px solid var(--border);padding:32px 0;position:sticky;top:0;height:100vh;overflow-y:auto;display:flex;flex-direction:column}
.sidebar-header{padding:0 24px 24px;border-bottom:1px solid var(--border)}
.day-badge{font-family:'IBM Plex Mono',monospace;font-size:10px;letter-spacing:.12em;text-transform:uppercase;color:var(--accent);margin-bottom:6px}
.sidebar-header h2{font-family:'DM Serif Display',serif;font-size:15px;font-weight:400;color:#e4eaf6;line-height:1.4}
.sidebar-meta{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
.chip{font-family:'IBM Plex Mono',monospace;font-size:9px;letter-spacing:.06em;background:var(--pill);color:var(--muted);padding:3px 8px;border-radius:3px}
.lesson-nav{padding:16px 0;flex:1}
.nav-group-label{font-family:'IBM Plex Mono',monospace;font-size:9px;letter-spacing:.14em;text-transform:uppercase;color:var(--faint);padding:10px 24px 6px}
.nav-item{display:flex;align-items:center;gap:10px;padding:9px 24px;cursor:pointer;transition:background .15s;border-left:2px solid transparent}
.nav-item:hover{background:rgba(255,255,255,.03)}
.nav-item.active{background:var(--accent-dim);border-left-color:var(--accent)}
.nav-item.active .nav-label{color:var(--accent)}
.nav-item.lab-item.active{background:var(--lab-dim);border-left-color:var(--lab)}
.nav-item.lab-item.active .nav-label{color:var(--lab)}
.nav-num{font-family:'IBM Plex Mono',monospace;font-size:10px;color:var(--muted);width:18px;flex-shrink:0;text-align:right}
.nav-label{font-size:12.5px;color:#8a92a8;line-height:1.3}
.nav-check{margin-left:auto;width:14px;height:14px;border-radius:50%;border:1px solid var(--border-hi);flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:8px;color:transparent;transition:all .2s}
.nav-item.done .nav-check{background:var(--accent);border-color:var(--accent);color:var(--bg)}
.nav-item.lab-item.done .nav-check{background:var(--lab);border-color:var(--lab);color:var(--bg)}
.sidebar-footer{padding:20px 24px;border-top:1px solid var(--border);margin-top:auto}
.progress-label{display:flex;justify-content:space-between;font-size:11px;color:var(--muted);margin-bottom:8px}
.progress-bar{height:3px;background:var(--border);border-radius:2px;overflow:hidden}
.progress-fill{height:100%;background:var(--accent);border-radius:2px;transition:width .4s ease;width:0%}

/* ‚îÄ‚îÄ Sidebar back navigation ‚îÄ‚îÄ */
.sidebar-back{padding:14px 24px 12px;border-bottom:1px solid var(--border);display:flex;flex-direction:column;gap:6px}
.back-index{display:flex;align-items:center;gap:8px;font-family:'IBM Plex Mono',monospace;font-size:10px;letter-spacing:.06em;color:var(--muted);text-decoration:none;padding:6px 10px;border-radius:5px;border:1px solid var(--border-hi);transition:all .15s;background:transparent}
.back-index:hover{color:var(--accent);border-color:var(--accent);background:var(--accent-dim)}
.back-index svg{flex-shrink:0;opacity:.6}
.week-jumps-label{font-family:'IBM Plex Mono',monospace;font-size:9px;letter-spacing:.1em;text-transform:uppercase;color:var(--faint);margin-bottom:1px}
.week-jumps{display:flex;gap:5px;flex-wrap:wrap;margin-top:2px}
.week-jump{font-family:'IBM Plex Mono',monospace;font-size:9px;letter-spacing:.06em;padding:3px 9px;border-radius:3px;border:1px solid var(--border-hi);color:var(--muted);text-decoration:none;transition:all .12s;background:transparent}
.week-jump:hover{color:var(--text);background:rgba(255,255,255,.04)}
.week-jump.wj1{color:#4af0c4;border-color:rgba(74,240,196,.3)}
.week-jump.wj2{color:#8a7fff;border-color:rgba(138,127,255,.3)}
.week-jump.wj3{color:#f0924a;border-color:rgba(240,146,74,.3)}
.week-jump.wj4{color:#f05a5a;border-color:rgba(240,90,90,.3)}

/* ‚îÄ‚îÄ Day nav strip ‚îÄ‚îÄ */
.day-nav-label{font-family:'IBM Plex Mono',monospace;font-size:9px;letter-spacing:.1em;text-transform:uppercase;color:var(--faint);margin-top:8px;margin-bottom:2px}
.day-nav{display:flex;gap:4px;flex-wrap:wrap}
.day-link{font-family:'IBM Plex Mono',monospace;font-size:9px;padding:3px 7px;border-radius:3px;border:1px solid var(--border-hi);color:var(--muted);text-decoration:none;transition:all .12s;background:transparent}
.day-link:hover{color:var(--text);background:rgba(255,255,255,.04)}
.day-link.current{color:var(--accent);border-color:rgba(74,240,196,.4);background:rgba(74,240,196,.06);font-weight:600}

.main{display:flex;flex-direction:column}
.lesson-topbar{display:flex;align-items:center;justify-content:space-between;padding:16px 48px;border-bottom:1px solid var(--border);background:var(--surface);position:sticky;top:0;z-index:10}
.lesson-crumb{font-family:'IBM Plex Mono',monospace;font-size:11px;color:var(--muted)}
.lesson-crumb span{color:var(--text)}
.nav-arrows{display:flex;gap:8px}
.arrow-btn{background:var(--pill);border:1px solid var(--border-hi);color:var(--muted);border-radius:5px;padding:5px 12px;font-size:12px;cursor:pointer;font-family:'IBM Plex Mono',monospace;transition:all .15s}
.arrow-btn:hover:not(:disabled){border-color:var(--accent);color:var(--accent)}
.arrow-btn:disabled{opacity:.3;cursor:default}
.lesson-pane{display:none;flex-direction:column;padding:56px 48px 80px;max-width:760px;animation:fadeIn .3s ease}
.lesson-pane.active{display:flex}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.lesson-tag{font-family:'IBM Plex Mono',monospace;font-size:10px;letter-spacing:.12em;text-transform:uppercase;margin-bottom:14px}
.tag-concept{color:var(--violet)} .tag-warning{color:var(--amber)} .tag-security{color:var(--accent)} .tag-ops{color:#f0c84a} .tag-lab{color:var(--lab)} .tag-standard{color:#4af0c4}
.lesson-pane h1{font-family:'DM Serif Display',serif;font-size:28px;font-weight:400;line-height:1.25;color:#e8eef8;margin-bottom:24px}
.lesson-pane h1 em{font-style:italic;color:var(--accent)}
.lab-pane h1 em{color:var(--lab)}
.lesson-pane p{color:var(--text);margin-bottom:18px;font-size:15px}
.lesson-pane strong{color:#e0e6f0;font-weight:500}
.callout{border-left:3px solid;padding:16px 20px;border-radius:0 6px 6px 0;margin:24px 0;font-size:14px;line-height:1.7}
.callout-title{font-family:'IBM Plex Mono',monospace;font-size:10px;letter-spacing:.1em;text-transform:uppercase;margin-bottom:8px;font-weight:600}
.callout.breach{border-color:var(--danger);background:rgba(240,90,90,.06)}.callout.breach .callout-title{color:var(--danger)}
.callout.insight{border-color:var(--violet);background:rgba(138,127,255,.06)}.callout.insight .callout-title{color:var(--violet)}
.callout.tip{border-color:var(--accent);background:var(--accent-dim)}.callout.tip .callout-title{color:var(--accent)}
.callout.warning{border-color:var(--amber);background:rgba(240,146,74,.06)}.callout.warning .callout-title{color:var(--amber)}
.callout.lab-note{border-color:var(--lab);background:var(--lab-dim)}.callout.lab-note .callout-title{color:var(--lab)}
.styled-table{width:100%;border-collapse:collapse;margin:24px 0;font-size:13.5px}
.styled-table th{font-family:'IBM Plex Mono',monospace;font-size:9px;letter-spacing:.1em;text-transform:uppercase;color:var(--muted);text-align:left;padding:10px 16px;border-bottom:1px solid var(--border);background:var(--surface)}
.styled-table td{padding:11px 16px;border-bottom:1px solid var(--border);color:var(--text);vertical-align:top}
.styled-table tr:hover td{background:rgba(255,255,255,.02)}
.styled-table td:first-child{font-family:'IBM Plex Mono',monospace;font-size:11.5px;color:var(--violet)}
.score-bar-wrap{margin:24px 0;background:var(--surface);border:1px solid var(--border);border-radius:10px;overflow:hidden}
.score-bar-row{display:grid;grid-template-columns:140px 1fr 60px;align-items:center;gap:16px;padding:14px 20px;border-bottom:1px solid var(--border)}
.score-bar-row:last-child{border-bottom:none}
.score-bar-label{font-family:'IBM Plex Mono',monospace;font-size:11px;color:var(--muted)}
.score-bar{height:6px;background:var(--border);border-radius:3px;overflow:hidden}
.score-bar-fill{height:100%;border-radius:3px}
.fill-good{background:var(--accent)}
.fill-warn{background:var(--amber)}
.fill-bad{background:var(--danger)}
.score-val{font-family:'IBM Plex Mono',monospace;font-size:11px;text-align:right}
.hub-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin:24px 0}
.hub-card{border:1px solid var(--border);border-radius:8px;padding:18px 20px;background:var(--surface)}
.hub-card-icon{font-size:22px;margin-bottom:10px}
.hub-card-name{font-family:'IBM Plex Mono',monospace;font-size:11px;color:var(--accent);margin-bottom:6px}
.hub-card-desc{font-size:13px;color:#8a92a8;line-height:1.6}
.risk-table{width:100%;border-collapse:collapse;margin:24px 0;font-size:13.5px}
.risk-table th{font-family:'IBM Plex Mono',monospace;font-size:9px;letter-spacing:.1em;text-transform:uppercase;color:var(--muted);text-align:left;padding:10px 16px;border-bottom:1px solid var(--border);background:var(--surface)}
.risk-table td{padding:12px 16px;border-bottom:1px solid var(--border);vertical-align:top}
.risk-table tr:last-child td{border-bottom:none}
.sev-crit{font-family:'IBM Plex Mono',monospace;font-size:11px;background:rgba(240,90,90,.15);color:var(--danger);padding:3px 8px;border-radius:3px}
.sev-high{font-family:'IBM Plex Mono',monospace;font-size:11px;background:rgba(240,146,74,.15);color:var(--amber);padding:3px 8px;border-radius:3px}
.sev-med{font-family:'IBM Plex Mono',monospace;font-size:11px;background:rgba(138,127,255,.15);color:var(--violet);padding:3px 8px;border-radius:3px}
.sev-low{font-family:'IBM Plex Mono',monospace;font-size:11px;background:rgba(74,240,196,.1);color:var(--accent);padding:3px 8px;border-radius:3px}
.code-block{background:var(--code-bg);border:1px solid var(--border);border-radius:6px;margin:20px 0;overflow:hidden}
.code-header{display:flex;align-items:center;justify-content:space-between;padding:8px 16px;border-bottom:1px solid var(--border);background:rgba(255,255,255,.02)}
.code-lang{font-family:'IBM Plex Mono',monospace;font-size:10px;letter-spacing:.06em;color:var(--muted);text-transform:uppercase}
.copy-btn{font-family:'IBM Plex Mono',monospace;font-size:10px;color:var(--muted);background:transparent;border:1px solid var(--border-hi);border-radius:3px;padding:2px 8px;cursor:pointer;transition:all .15s}
.copy-btn:hover{color:var(--accent);border-color:var(--accent)}
.code-block pre{font-family:'IBM Plex Mono',monospace;font-size:12.5px;line-height:1.8;padding:16px 20px;color:#a8b4cc;overflow-x:auto}
.code-block pre .hl{color:var(--accent)} .code-block pre .hl2{color:var(--amber)} .code-block pre .comment{color:var(--muted)}
.kcheck{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:28px 28px 24px;margin:36px 0 24px}
.kcheck-label{font-family:'IBM Plex Mono',monospace;font-size:9px;letter-spacing:.14em;text-transform:uppercase;color:var(--violet);margin-bottom:14px}
.kcheck-q{font-size:15px;color:#d0d8ec;font-weight:500;margin-bottom:20px;line-height:1.5}
.kcheck-options{display:flex;flex-direction:column;gap:10px}
.kcheck-opt{display:flex;align-items:flex-start;gap:12px;padding:12px 16px;border:1px solid var(--border-hi);border-radius:7px;cursor:pointer;transition:all .15s;font-size:13.5px;color:#8a92a8;background:transparent;width:100%;text-align:left}
.kcheck-opt:hover:not(.disabled){border-color:var(--violet);background:rgba(138,127,255,.05);color:var(--text)}
.kcheck-opt.correct{border-color:var(--accent);background:rgba(74,240,196,.07);color:var(--accent)}
.kcheck-opt.wrong{border-color:var(--danger);background:rgba(240,90,90,.07);color:var(--danger)}
.kcheck-opt.reveal-correct{border-color:var(--accent);background:rgba(74,240,196,.04);color:#6e9e90}
.opt-key{font-family:'IBM Plex Mono',monospace;font-size:11px;width:22px;height:22px;border-radius:4px;background:var(--border);display:flex;align-items:center;justify-content:center;flex-shrink:0;color:var(--muted);transition:all .15s;margin-top:1px}
.kcheck-opt.correct .opt-key{background:var(--accent);color:var(--bg)}
.kcheck-opt.wrong .opt-key{background:var(--danger);color:#fff}
.kcheck-opt.reveal-correct .opt-key{background:rgba(74,240,196,.2);color:var(--accent)}
.kcheck-feedback{margin-top:18px;padding:14px 16px;border-radius:7px;font-size:13.5px;line-height:1.65;display:none}
.kcheck-feedback.show{display:block}
.kcheck-feedback.good{background:rgba(74,240,196,.08);border:1px solid rgba(74,240,196,.2);color:#7eceb8}
.kcheck-feedback.bad{background:rgba(240,90,90,.08);border:1px solid rgba(240,90,90,.2);color:#c47a7a}
.lab-steps{display:flex;flex-direction:column;gap:0;margin:24px 0}
.lab-step{display:flex;gap:20px;padding:20px 0;border-bottom:1px solid var(--border)}
.lab-step:last-child{border-bottom:none}
.step-num-wrap{display:flex;flex-direction:column;align-items:center;flex-shrink:0}
.step-num{width:32px;height:32px;border-radius:50%;background:var(--pill);border:2px solid var(--border-hi);font-family:'IBM Plex Mono',monospace;font-size:12px;color:var(--muted);display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .3s;position:relative;z-index:1}
.step-connector{width:2px;flex:1;background:var(--border);margin-top:4px}
.lab-step:last-child .step-connector{display:none}
.step-content{flex:1;padding-top:4px}
.step-title{font-family:'DM Serif Display',serif;font-size:16px;color:#e4eaf6;margin-bottom:8px}
.step-body{font-size:14px;color:var(--text);line-height:1.7}
.step-body ol{padding-left:20px;display:flex;flex-direction:column;gap:6px;margin:10px 0}
.step-body li{color:#a0a8bc}
.step-body code{font-family:'IBM Plex Mono',monospace;font-size:12px;background:var(--pill);padding:1px 6px;border-radius:3px;color:var(--violet)}
.checklist{display:flex;flex-direction:column;gap:10px;margin:24px 0}
.check-item{display:flex;align-items:flex-start;gap:12px;padding:12px 16px;background:var(--surface);border:1px solid var(--border);border-radius:7px;cursor:pointer;transition:all .2s;user-select:none}
.check-item:hover{border-color:var(--border-hi)}
.check-item.checked{border-color:rgba(240,200,74,.3);background:rgba(240,200,74,.05)}
.check-box{width:18px;height:18px;border-radius:4px;border:2px solid var(--border-hi);flex-shrink:0;display:flex;align-items:center;justify-content:center;transition:all .2s;margin-top:1px;font-size:10px;color:transparent}
.check-item.checked .check-box{background:var(--lab);border-color:var(--lab);color:var(--bg)}
.check-text{font-size:13.5px;color:#8a92a8;line-height:1.5}
.check-item.checked .check-text{color:var(--muted);text-decoration:line-through;text-decoration-color:var(--faint)}
.checklist-progress{display:flex;align-items:center;gap:12px;margin-bottom:16px}
.checklist-progress-bar{flex:1;height:3px;background:var(--border);border-radius:2px;overflow:hidden}
.checklist-progress-fill{height:100%;background:var(--lab);border-radius:2px;transition:width .4s ease}
.checklist-progress-label{font-family:'IBM Plex Mono',monospace;font-size:10px;color:var(--muted);white-space:nowrap}
.lesson-nav-footer{display:flex;justify-content:space-between;align-items:center;margin-top:52px;padding-top:28px;border-top:1px solid var(--border)}
.next-btn{background:var(--accent);color:var(--bg);border:none;border-radius:6px;padding:11px 24px;font-family:'IBM Plex Mono',monospace;font-size:12px;font-weight:600;cursor:pointer;letter-spacing:.04em;transition:opacity .15s;display:flex;align-items:center;gap:8px;text-decoration:none}
.next-btn:hover{opacity:.88}
.next-btn.lab-btn{background:var(--lab)}
.prev-btn{background:transparent;color:var(--muted);border:1px solid var(--border-hi);border-radius:6px;padding:11px 20px;font-family:'IBM Plex Mono',monospace;font-size:12px;cursor:pointer;letter-spacing:.04em;transition:all .15s;text-decoration:none;display:inline-flex;align-items:center}
.prev-btn:hover{color:var(--text);border-color:var(--text)}
.prev-btn:disabled{opacity:.3;cursor:default}
.completion-card{text-align:center;padding:56px 32px}
.completion-icon{font-size:48px;margin-bottom:20px;display:block}
.completion-card h1{font-family:'DM Serif Display',serif;font-size:32px;color:var(--accent);margin-bottom:12px}
.completion-card p{color:var(--muted);max-width:420px;margin:0 auto 28px;font-size:14px}
.score-pill{display:inline-flex;align-items:center;gap:8px;background:rgba(74,240,196,.1);border:1px solid rgba(74,240,196,.25);color:var(--accent);border-radius:40px;padding:8px 20px;font-family:'IBM Plex Mono',monospace;font-size:13px;margin-bottom:8px}
.lab-score-pill{display:inline-flex;align-items:center;gap:8px;background:rgba(240,200,74,.1);border:1px solid rgba(240,200,74,.25);color:var(--lab);border-radius:40px;padding:8px 20px;font-family:'IBM Plex Mono',monospace;font-size:13px;margin-bottom:32px}
::-webkit-scrollbar{width:5px;height:5px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--border-hi);border-radius:3px}
@media(max-width:768px){.shell{grid-template-columns:1fr}.sidebar{display:none}.lesson-pane{padding:32px 24px 60px}.hub-grid{grid-template-columns:1fr}.lesson-topbar{padding:14px 24px}}
</style>
</head>
<body>
<div class="shell">

<nav class="sidebar">
  <div class="sidebar-header">
    <div class="day-badge">Week 1 ¬∑ Day 3</div>
    <h2>Security Hub &amp;<br>CIS Benchmark</h2>
    <div class="sidebar-meta">
      <span class="chip">Beginner</span>
      <span class="chip">4 lessons</span>
      <span class="chip">1 lab</span>
      <span class="chip">~4h</span>
    </div>
  </div>



  <div class="sidebar-back">
    <a class="back-index" href="../index.html">
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M7.5 2L3.5 6L7.5 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
      Course Index
    </a>
    <div class="week-jumps-label">Jump to week</div>
    <div class="week-jumps">
      <a class="week-jump wj1" href="../index.html#week-1">W1</a>
      <a class="week-jump wj2" href="../index.html#week-2">W2</a>
      <a class="week-jump wj3" href="../index.html#week-3">W3</a>
      <a class="week-jump wj4" href="../index.html#week-4">W4</a>
    </div>
    <div class="day-nav-label">Week 1 days</div>
    <div class="day-nav">
      <a class="day-link " href="day-01.html">D1</a>
      <a class="day-link" href="day-02.html">D2</a>
      <a class="day-link current" href="day-03.html">D3</a>
      <a class="day-link" href="day-04.html">D4</a>
      <a class="day-link " href="day-05.html">D5</a>
      <a class="day-link" href="day-06.html">D6</a>
      <a class="day-link" href="day-07.html">D7</a>
    </div>
  </div>


  <div class="lesson-nav">
    <div class="nav-group-label">Lessons</div>
    <div class="nav-item active" onclick="goTo(0)"><span class="nav-num">01</span><span class="nav-label">What Is Security Hub?</span><span class="nav-check">‚úì</span></div>
    <div class="nav-item" onclick="goTo(1)"><span class="nav-num">02</span><span class="nav-label">The CIS AWS Foundations Benchmark</span><span class="nav-check">‚úì</span></div>
    <div class="nav-item" onclick="goTo(2)"><span class="nav-num">03</span><span class="nav-label">Risk Scoring &amp; Prioritisation</span><span class="nav-check">‚úì</span></div>
    <div class="nav-item" onclick="goTo(3)"><span class="nav-num">04</span><span class="nav-label">False Positive Management</span><span class="nav-check">‚úì</span></div>
    <div class="nav-group-label" style="margin-top:8px">Lab</div>
    <div class="nav-item lab-item" onclick="goTo(4)"><span class="nav-num" style="color:var(--lab)">üî¨</span><span class="nav-label">Hands-on: Enable Security Hub + CIS</span><span class="nav-check">‚úì</span></div>
  </div>
  <div class="sidebar-footer">
    <div class="progress-label"><span>Progress</span><span id="progress-pct">0 / 5</span></div>
    <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
  </div>
</nav>

<div class="main">
  <div class="lesson-topbar">
    <div class="lesson-crumb">Day 3 &nbsp;/&nbsp; <span id="topbar-title">What Is Security Hub?</span></div>
    <div class="nav-arrows">
      <button class="arrow-btn" id="btn-prev" onclick="prev()" disabled>‚Üê Prev</button>
      <button class="arrow-btn" id="btn-next" onclick="next()">Next ‚Üí</button>
    </div>
  </div>

  <!-- LESSON 1 -->
  <div class="lesson-pane active" id="pane-0">
    <div class="lesson-tag tag-concept">Core Concept</div>
    <h1>What Is<br><em>Security Hub?</em></h1>
    <p><strong>Objective:</strong> Understand what Security Hub adds beyond AWS Config, how it aggregates findings, and why a single pane matters at scale.</p>
    <p>You've now got AWS Config running, producing findings per-service. The problem at scale: you'll have Config findings, GuardDuty alerts, Inspector CVEs, Macie PII detections, and more ‚Äî all in separate dashboards. Security Hub is the aggregation layer that brings them together.</p>
    <div class="hub-grid">
      <div class="hub-card">
        <div class="hub-card-icon">üì°</div>
        <div class="hub-card-name">AWS Config</div>
        <div class="hub-card-desc">Configuration compliance ‚Äî is each resource set up securely?</div>
      </div>
      <div class="hub-card">
        <div class="hub-card-icon">üïµÔ∏è</div>
        <div class="hub-card-name">GuardDuty</div>
        <div class="hub-card-desc">Threat detection ‚Äî is malicious behaviour happening in my account?</div>
      </div>
      <div class="hub-card">
        <div class="hub-card-icon">üîç</div>
        <div class="hub-card-name">Inspector</div>
        <div class="hub-card-desc">Vulnerability management ‚Äî do my EC2 or containers have known CVEs?</div>
      </div>
      <div class="hub-card">
        <div class="hub-card-icon">üõ°Ô∏è</div>
        <div class="hub-card-name">Security Hub</div>
        <div class="hub-card-desc">Single aggregation layer ‚Äî normalises, scores, and prioritises findings from all of the above.</div>
      </div>
    </div>
    <p>Security Hub also runs its own checks independently ‚Äî evaluating your account against industry standards like CIS, PCI DSS, and NIST. These checks run automatically once you enable the relevant security standard.</p>
    <div class="callout insight"><div class="callout-title">üí° CNAPP Preview</div>What you're building ‚Äî Config + GuardDuty + Inspector + Security Hub ‚Äî is the open-source equivalent of what vendors sell as CNAPP (Cloud-Native Application Protection Platform). You'll complete this integration on Day 24.</div>
    <div class="kcheck">
      <div class="kcheck-label">Knowledge Check</div>
      <div class="kcheck-q">Your account has Config, GuardDuty, and Inspector all running. A new engineer asks where to go for a single view of everything wrong. What do you tell them?</div>
      <div class="kcheck-options">
        <button class="kcheck-opt" onclick="check(this,false,0)"><span class="opt-key">A</span>AWS Config ‚Äî it already aggregates all other findings</button>
        <button class="kcheck-opt" onclick="check(this,true,0)"><span class="opt-key">B</span>Security Hub ‚Äî it's the aggregation layer that normalises findings from Config, GuardDuty, Inspector and more</button>
        <button class="kcheck-opt" onclick="check(this,false,0)"><span class="opt-key">C</span>CloudWatch ‚Äî the monitoring service shows all security events</button>
        <button class="kcheck-opt" onclick="check(this,false,0)"><span class="opt-key">D</span>IAM ‚Äî it provides a security overview for the account</button>
      </div>
      <div class="kcheck-feedback" id="fb-0"></div>
    </div>
    <div class="lesson-nav-footer">
      <button class="prev-btn" disabled>‚Üê Previous</button>
      <button class="next-btn" onclick="next()">Next Lesson ‚Üí</button>
    </div>
  </div>

  <!-- LESSON 2 -->
  <div class="lesson-pane" id="pane-1">
    <div class="lesson-tag tag-standard">Industry Standard</div>
    <h1>The CIS AWS<br><em>Foundations Benchmark</em></h1>
    <p><strong>Objective:</strong> Understand what CIS is, why it matters, and what the 60+ controls actually check.</p>
    <p>The Center for Internet Security publishes vendor-neutral security configuration benchmarks. The <strong>CIS AWS Foundations Benchmark v1.4.0</strong> is the most widely used AWS security standard ‚Äî referenced in SOC2 audits, customer security questionnaires, and job requirements.</p>
    <p>It organises its controls across five sections:</p>
    <table class="styled-table">
      <thead><tr><th>Section</th><th>Controls</th><th>Example check</th></tr></thead>
      <tbody>
        <tr><td>1. IAM</td><td>21 controls</td><td>Root MFA enabled, no root access keys, password policy enforced</td></tr>
        <tr><td>2. Storage</td><td>7 controls</td><td>S3 public access blocks, CloudTrail S3 bucket not public</td></tr>
        <tr><td>3. Logging</td><td>11 controls</td><td>CloudTrail enabled, log file validation, S3 log bucket access logging</td></tr>
        <tr><td>4. Monitoring</td><td>15 controls</td><td>CloudWatch alarms for root login, IAM policy changes, VPC changes</td></tr>
        <tr><td>5. Networking</td><td>4 controls</td><td>No security groups open to 0.0.0.0/0 on port 22 or 3389</td></tr>
      </tbody>
    </table>
    <div class="callout tip"><div class="callout-title">‚úì Why Your CIS Score Matters</div>When a customer asks "do you follow industry security standards?", your Security Hub CIS score is the answer. When you pursue SOC2 Type II, auditors map controls directly to CIS. Getting to 80%+ this week is a real, marketable achievement.</div>
    <div class="callout warning"><div class="callout-title">‚ö† Foundational vs. Intermediate Controls</div>CIS labels each control Level 1 (foundational, applicable to all) or Level 2 (more restrictive, for higher-security environments). In this programme you'll implement all Level 1 controls. Level 2 controls for specific workloads are covered in Week 3.</div>
    <div class="kcheck">
      <div class="kcheck-label">Knowledge Check</div>
      <div class="kcheck-q">A SOC2 auditor asks for evidence that you follow industry standards for AWS configuration. Which document most directly addresses this?</div>
      <div class="kcheck-options">
        <button class="kcheck-opt" onclick="check(this,false,1)"><span class="opt-key">A</span>Your AWS Billing dashboard ‚Äî shows all AWS services in use</button>
        <button class="kcheck-opt" onclick="check(this,false,1)"><span class="opt-key">B</span>Your VPC flow logs ‚Äî network traffic records</button>
        <button class="kcheck-opt" onclick="check(this,true,1)"><span class="opt-key">C</span>Your Security Hub CIS AWS Foundations Benchmark score and control results</button>
        <button class="kcheck-opt" onclick="check(this,false,1)"><span class="opt-key">D</span>Your IAM user list ‚Äî shows who has access</button>
      </div>
      <div class="kcheck-feedback" id="fb-1"></div>
    </div>
    <div class="lesson-nav-footer">
      <button class="prev-btn" onclick="prev()">‚Üê Previous</button>
      <button class="next-btn" onclick="next()">Next Lesson ‚Üí</button>
    </div>
  </div>

  <!-- LESSON 3 -->
  <div class="lesson-pane" id="pane-2">
    <div class="lesson-tag tag-ops">Operations</div>
    <h1>Risk Scoring &amp;<br><em>Prioritisation</em></h1>
    <p><strong>Objective:</strong> Learn how Security Hub scores findings so you can fix the right things first.</p>
    <p>Security Hub scores every finding on a 0‚Äì100 scale using the <strong>AWS Security Finding Format (ASFF)</strong>. The score factors in severity, business impact, and ease of exploit. Here's what a typical new account looks like after first enabling Security Hub:</p>
    <div class="score-bar-wrap">
      <div class="score-bar-row">
        <span class="score-bar-label">Critical</span>
        <div class="score-bar"><div class="score-bar-fill fill-bad" style="width:15%"></div></div>
        <span class="score-val" style="color:var(--danger)">~8 findings</span>
      </div>
      <div class="score-bar-row">
        <span class="score-bar-label">High</span>
        <div class="score-bar"><div class="score-bar-fill fill-warn" style="width:40%"></div></div>
        <span class="score-val" style="color:var(--amber)">~22 findings</span>
      </div>
      <div class="score-bar-row">
        <span class="score-bar-label">Medium</span>
        <div class="score-bar"><div class="score-bar-fill fill-warn" style="width:55%"></div></div>
        <span class="score-val" style="color:var(--amber)">~30 findings</span>
      </div>
      <div class="score-bar-row">
        <span class="score-bar-label">Low / Info</span>
        <div class="score-bar"><div class="score-bar-fill fill-good" style="width:75%"></div></div>
        <span class="score-val" style="color:var(--accent)">~42 findings</span>
      </div>
    </div>
    <p><strong>Fix order: Critical ‚Üí High ‚Üí Medium.</strong> Low and Informational findings rarely represent exploitable risk and are often candidates for suppression or exception documentation.</p>
    <table class="risk-table">
      <thead><tr><th>Severity</th><th>Example finding</th><th>SLA target</th></tr></thead>
      <tbody>
        <tr><td><span class="sev-crit">CRITICAL</span></td><td>Root account has no MFA</td><td>Fix immediately ‚Äî do not pass Go</td></tr>
        <tr><td><span class="sev-high">HIGH</span></td><td>Security group open to 0.0.0.0/0 on port 22</td><td>Remediate within 24 hours</td></tr>
        <tr><td><span class="sev-med">MEDIUM</span></td><td>IAM password policy doesn't require uppercase</td><td>Remediate within 7 days</td></tr>
        <tr><td><span class="sev-low">LOW</span></td><td>CloudTrail log file validation not enabled</td><td>Backlog ‚Äî next sprint</td></tr>
      </tbody>
    </table>
    <div class="kcheck">
      <div class="kcheck-label">Knowledge Check</div>
      <div class="kcheck-q">Security Hub shows 3 CRITICAL findings, 12 HIGH findings, and 40 MEDIUM findings. Limited time ‚Äî which do you tackle first?</div>
      <div class="kcheck-options">
        <button class="kcheck-opt" onclick="check(this,false,2)"><span class="opt-key">A</span>The 40 MEDIUM findings ‚Äî more items closed means a better compliance score</button>
        <button class="kcheck-opt" onclick="check(this,true,2)"><span class="opt-key">B</span>The 3 CRITICAL findings ‚Äî severity trumps volume. One critical finding can mean account compromise</button>
        <button class="kcheck-opt" onclick="check(this,false,2)"><span class="opt-key">C</span>The 12 HIGH findings ‚Äî medium ground between impact and quantity</button>
        <button class="kcheck-opt" onclick="check(this,false,2)"><span class="opt-key">D</span>Review all LOW findings first ‚Äî they're easiest and improve the score fastest</button>
      </div>
      <div class="kcheck-feedback" id="fb-2"></div>
    </div>
    <div class="lesson-nav-footer">
      <button class="prev-btn" onclick="prev()">‚Üê Previous</button>
      <button class="next-btn" onclick="next()">Next Lesson ‚Üí</button>
    </div>
  </div>

  <!-- LESSON 4 -->
  <div class="lesson-pane" id="pane-3">
    <div class="lesson-tag tag-ops">Operations</div>
    <h1>False Positive<br><em>Management</em></h1>
    <p><strong>Objective:</strong> Learn the three Security Hub workflow states and how to handle intentional exceptions without losing audit coverage.</p>
    <p>Security Hub findings have three workflow states. Using them correctly is what separates a well-managed security programme from one that's drowning in noise.</p>
    <table class="styled-table">
      <thead><tr><th>Workflow Status</th><th>When to use</th><th>Audit impact</th></tr></thead>
      <tbody>
        <tr><td>NEW</td><td>Finding just discovered, not yet reviewed</td><td>Requires action ‚Äî appears in reports as unaddressed</td></tr>
        <tr><td>NOTIFIED</td><td>Finding assigned to owner, remediation in progress</td><td>Shows active management ‚Äî good for audits</td></tr>
        <tr><td>SUPPRESSED</td><td>Intentional exception with documented justification</td><td>Removed from active view ‚Äî but preserved for audit trail</td></tr>
        <tr><td>RESOLVED</td><td>Finding fixed ‚Äî resource is now compliant</td><td>Positive signal ‚Äî shows remediation velocity</td></tr>
      </tbody>
    </table>
    <div class="callout warning"><div class="callout-title">‚ö† Never Delete Findings</div>Security Hub doesn't let you delete findings ‚Äî by design. They're immutable audit records. SUPPRESSED is the right mechanism for exceptions. If you archive all findings without justification, auditors will ask why.</div>
    <div class="callout tip"><div class="callout-title">‚úì Suppression Best Practice</div>Always add a note when suppressing: <em>"Intentional: CloudTrail logging disabled in sandbox account ‚Äî no production data, reviewed 2025-03-01 by [name]."</em> This turns a potential audit gap into documented risk acceptance.</div>
    <div class="kcheck">
      <div class="kcheck-label">Knowledge Check</div>
      <div class="kcheck-q">Security Hub flags your development sandbox account for missing CloudTrail. The sandbox has no sensitive data and logging is intentionally disabled to reduce costs. What is the correct workflow action?</div>
      <div class="kcheck-options">
        <button class="kcheck-opt" onclick="check(this,false,3)"><span class="opt-key">A</span>RESOLVED ‚Äî the finding is not a real problem so mark it resolved</button>
        <button class="kcheck-opt" onclick="check(this,false,3)"><span class="opt-key">B</span>Leave as NEW ‚Äî sandboxes don't need to be managed in Security Hub</button>
        <button class="kcheck-opt" onclick="check(this,true,3)"><span class="opt-key">C</span>SUPPRESSED with a justification note ‚Äî documents the intentional exception for audit purposes</button>
        <button class="kcheck-opt" onclick="check(this,false,3)"><span class="opt-key">D</span>Disable the relevant CIS control ‚Äî it's generating too much noise</button>
      </div>
      <div class="kcheck-feedback" id="fb-3"></div>
    </div>
    <div class="lesson-nav-footer">
      <button class="prev-btn" onclick="prev()">‚Üê Previous</button>
      <button class="next-btn lab-btn" onclick="next()">Start Lab ‚Üí</button>
    </div>
  </div>

  <!-- LAB -->
  <div class="lesson-pane lab-pane" id="pane-4">
    <div class="lesson-tag tag-lab">üî¨ Hands-On Lab</div>
    <h1>Enable Security Hub<br>&amp; <em>CIS Benchmark</em></h1>
    <p>You'll activate Security Hub, enable the CIS AWS Foundations Benchmark, and read your first compliance score. Target: get your score above 50% by end of this lab.</p>
    <div class="callout lab-note"><div class="callout-title">‚ö° Prerequisites</div>AWS Config must already be enabled (Day 2 lab). Security Hub relies on Config for resource data. If Config isn't running, Security Hub checks will show errors rather than results.</div>

    <div class="lab-steps">
      <div class="lab-step">
        <div class="step-num-wrap"><div class="step-num">1</div><div class="step-connector"></div></div>
        <div class="step-content">
          <div class="step-title">Enable Security Hub <span style="font-size:12px;color:var(--muted);font-family:'IBM Plex Mono',monospace">~10 min</span></div>
          <div class="step-body">
            <ol>
              <li>AWS Console ‚Üí search <code>Security Hub</code> ‚Üí click <strong>Go to Security Hub</strong></li>
              <li>Click <strong>Enable Security Hub</strong></li>
              <li>On the standards page, ensure <strong>CIS AWS Foundations Benchmark v1.4.0</strong> is checked ‚úÖ</li>
              <li>Also enable <strong>AWS Foundational Security Best Practices</strong> ‚úÖ</li>
              <li>Click <strong>Enable Security Hub</strong></li>
            </ol>
            <p style="color:#8a92a8;font-size:13px;margin-top:8px">Initial evaluation runs immediately but takes 20‚Äì30 minutes to fully populate. Start the next step while it runs.</p>
          </div>
        </div>
      </div>

      <div class="lab-step">
        <div class="step-num-wrap"><div class="step-num">2</div><div class="step-connector"></div></div>
        <div class="step-content">
          <div class="step-title">Review Your CIS Score <span style="font-size:12px;color:var(--muted);font-family:'IBM Plex Mono',monospace">~15 min</span></div>
          <div class="step-body">
            <ol>
              <li>Security Hub ‚Üí left menu ‚Üí <strong>Security standards</strong></li>
              <li>Click <strong>CIS AWS Foundations Benchmark v1.4.0</strong></li>
              <li>Note your overall compliance score (target: >50% to start)</li>
              <li>Click into <strong>IAM controls</strong> ‚Äî these are the most critical to fix first</li>
              <li>Click any FAILED control to see the specific resources affected and remediation guidance</li>
            </ol>
          </div>
        </div>
      </div>

      <div class="lab-step">
        <div class="step-num-wrap"><div class="step-num">3</div><div class="step-connector"></div></div>
        <div class="step-content">
          <div class="step-title">Triage Your First Findings <span style="font-size:12px;color:var(--muted);font-family:'IBM Plex Mono',monospace">~20 min</span></div>
          <div class="step-body">
            <ol>
              <li>Security Hub ‚Üí <strong>Findings</strong></li>
              <li>Filter by <strong>Severity: CRITICAL</strong> ‚Äî fix or suppress each one</li>
              <li>Filter by <strong>Severity: HIGH</strong> ‚Äî for each finding, click and read the remediation guidance</li>
              <li>For any HIGH finding you can't fix immediately: click the finding ‚Üí <strong>Workflow status</strong> ‚Üí <strong>NOTIFIED</strong> to mark it as acknowledged</li>
              <li>For any intentional exception: change workflow to <strong>SUPPRESSED</strong> and add a note explaining why</li>
            </ol>
          </div>
        </div>
      </div>

      <div class="lab-step">
        <div class="step-num-wrap"><div class="step-num">4</div></div>
        <div class="step-content">
          <div class="step-title">Explore Security Hub Insights <span style="font-size:12px;color:var(--muted);font-family:'IBM Plex Mono',monospace">~10 min</span></div>
          <div class="step-body">
            <ol>
              <li>Security Hub ‚Üí left menu ‚Üí <strong>Insights</strong></li>
              <li>Click <strong>AWS resources with the most findings</strong> ‚Äî identifies your highest-risk resources</li>
              <li>Click <strong>S3 buckets with public write or read permissions</strong> ‚Äî if any appear, fix them before proceeding</li>
              <li>Screenshot the Insights panel for your portfolio</li>
            </ol>
            <div class="callout tip" style="margin-bottom:0;margin-top:12px"><div class="callout-title">‚úì Portfolio Screenshot</div>Take a screenshot of your CIS compliance score. Even a 55% score with a clear upward trajectory tells a hiring manager more than a certificate.</div>
          </div>
        </div>
      </div>
    </div>

    <h2 style="font-family:'DM Serif Display',serif;font-size:20px;color:#e4eaf6;margin:32px 0 16px;font-weight:400">Completion Checklist</h2>
    <div class="checklist-progress">
      <div class="checklist-progress-bar"><div class="checklist-progress-fill" id="cl-fill"></div></div>
      <span class="checklist-progress-label" id="cl-label">0 / 7</span>
    </div>
    <div class="checklist">
      <div class="check-item" onclick="toggleCheck(this,0)"><div class="check-box">‚úì</div><div class="check-text">Security Hub enabled and showing Dashboard</div></div>
      <div class="check-item" onclick="toggleCheck(this,1)"><div class="check-box">‚úì</div><div class="check-text">CIS AWS Foundations Benchmark v1.4.0 enabled</div></div>
      <div class="check-item" onclick="toggleCheck(this,2)"><div class="check-box">‚úì</div><div class="check-text">AWS Foundational Security Best Practices enabled</div></div>
      <div class="check-item" onclick="toggleCheck(this,3)"><div class="check-box">‚úì</div><div class="check-text">CIS compliance score noted (target >50%)</div></div>
      <div class="check-item" onclick="toggleCheck(this,4)"><div class="check-box">‚úì</div><div class="check-text">All CRITICAL findings reviewed and actioned (fixed or suppressed with justification)</div></div>
      <div class="check-item" onclick="toggleCheck(this,5)"><div class="check-box">‚úì</div><div class="check-text">Security Hub Insights panel explored</div></div>
      <div class="check-item" onclick="toggleCheck(this,6)"><div class="check-box">‚úì</div><div class="check-text">Screenshot of CIS score for portfolio</div></div>
    </div>

    <h2 style="font-family:'DM Serif Display',serif;font-size:20px;color:#e4eaf6;margin:32px 0 16px;font-weight:400">Portfolio Commit</h2>
    <div class="code-block">
      <div class="code-header"><span class="code-lang">bash</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
      <pre>git add screenshots/day-03-*.png
git commit -m <span class="hl">"Day 03: Security Hub enabled, CIS Benchmark active, score: [your-score]%"</span>
git push</pre>
    </div>
    <div class="lesson-nav-footer">
      <button class="prev-btn" onclick="prev()">‚Üê Previous</button>
      <button class="next-btn lab-btn" onclick="finish()">Complete Day 3 ‚úì</button>
    </div>
  </div>

  <!-- COMPLETION -->
  <div class="lesson-pane" id="pane-complete">
    <div class="completion-card">
      <span class="completion-icon">üìä</span>
      <h1>Day 3 Complete</h1>
      <p>You understand Security Hub's aggregation role, the CIS AWS Foundations Benchmark controls, how to prioritise findings by severity, and how to handle exceptions without losing audit coverage.</p>
      <div class="score-pill"><span>‚ö°</span> Quiz: <span id="score-val">‚Äî</span></div><br>
      <div class="lab-score-pill"><span>üî¨</span> Lab: <span id="lab-score-val">‚Äî</span> checklist items</div>
      <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:8px">
        <button class="prev-btn" onclick="goTo(0);resetAll()">‚Ü© Review</button>
        <a href="../index.html" style="text-decoration:none"><button class="next-btn" style="background:var(--pill);color:var(--muted);border:1px solid var(--border-hi)">‚Üê Course Index</button></a>
        <a href="day-04.html" style="text-decoration:none"><button class="next-btn lab-btn">Day 4 ‚Üí</button></a>
      </div>
    </div>
  </div>

</div>
</div>

<script>
const STORAGE_KEY='csm-day03';const TOTAL=5;
const titles=['What Is Security Hub?','The CIS AWS Foundations Benchmark','Risk Scoring & Prioritisation','False Positive Management','Hands-on: Enable Security Hub + CIS'];
const fb={
  0:{good:"Correct. Security Hub is the aggregation and normalisation layer. Config, GuardDuty, and Inspector all feed into it ‚Äî giving you one dashboard instead of three.",bad:"Not quite. Config shows configuration compliance only. Security Hub is the single pane that aggregates findings from Config, GuardDuty, Inspector, and more."},
  1:{good:"Correct. Security Hub CIS scores and control results are the direct evidence for industry-standard compliance questionnaires and SOC2 audits.",bad:"Not quite. IAM user lists and billing dashboards don't speak to security configuration standards. The CIS Benchmark score in Security Hub is what auditors look for."},
  2:{good:"Correct. CRITICAL findings represent the highest likelihood of account compromise or data exposure. Fix 3 critical findings first ‚Äî they may each represent full account takeover risk.",bad:"Not quite. Severity trumps volume. A single CRITICAL finding can mean root account compromise or an open database ‚Äî those must come before any number of MEDIUM findings."},
  3:{good:"Correct. SUPPRESSED with a justification note is the right mechanism. It removes the finding from active noise while preserving it in the audit trail with your documented rationale.",bad:"Not quite. RESOLVED implies the issue is fixed (it isn't). Leaving as NEW creates an unaddressed finding. Disabling the control removes protection for all accounts. SUPPRESSED with justification is the audit-safe path."}
};
let state=loadState();
function loadState(){try{const s=localStorage.getItem(STORAGE_KEY);if(s)return JSON.parse(s);}catch(e){}return{current:0,done:[],correct:[],answered:[],checks:[]};}
function saveState(){try{localStorage.setItem(STORAGE_KEY,JSON.stringify(state));}catch(e){}}
function goTo(n){document.querySelectorAll('.lesson-pane').forEach(p=>p.classList.remove('active'));document.querySelectorAll('.nav-item').forEach(i=>i.classList.remove('active'));state.current=n;document.getElementById('pane-'+(n===TOTAL?'complete':n)).classList.add('active');const items=document.querySelectorAll('.nav-item');if(items[n])items[n].classList.add('active');document.getElementById('topbar-title').textContent=titles[n]||'Complete';document.getElementById('btn-prev').disabled=(n===0);document.getElementById('btn-next').disabled=(n>=TOTAL-1);window.scrollTo(0,0);saveState();updateProgress();}
function next(){if(state.current<TOTAL-1)goTo(state.current+1);}
function prev(){if(state.current>0)goTo(state.current-1);}
function finish(){markDone(state.current);document.querySelectorAll('.lesson-pane').forEach(p=>p.classList.remove('active'));document.querySelectorAll('.nav-item').forEach(i=>i.classList.remove('active'));const pct=Math.round(state.correct.length/4*100);document.getElementById('score-val').textContent=state.correct.length+' / 4 ('+pct+'%)';const checked=state.checks.filter(Boolean).length;document.getElementById('lab-score-val').textContent=checked+' / 7';document.getElementById('pane-complete').classList.add('active');document.getElementById('topbar-title').textContent='Complete';document.getElementById('btn-prev').disabled=true;document.getElementById('btn-next').disabled=true;saveState();}
function markDone(n){if(!state.done.includes(n))state.done.push(n);const items=document.querySelectorAll('.nav-item');if(items[n])items[n].classList.add('done');updateProgress();}
function updateProgress(){const c=state.done.length;document.getElementById('progress-pct').textContent=c+' / '+TOTAL;document.getElementById('progress-fill').style.width=(c/TOTAL*100)+'%';}
function check(btn,isCorrect,idx){if(state.answered.includes(idx))return;state.answered.push(idx);const opts=btn.closest('.kcheck-options').querySelectorAll('.kcheck-opt');opts.forEach(o=>{o.classList.add('disabled');o.style.pointerEvents='none';});const fbEl=document.getElementById('fb-'+idx);if(isCorrect){btn.classList.add('correct');fbEl.className='kcheck-feedback show good';fbEl.textContent='‚úì '+fb[idx].good;if(!state.correct.includes(idx))state.correct.push(idx);}else{btn.classList.add('wrong');fbEl.className='kcheck-feedback show bad';fbEl.textContent='‚úó '+fb[idx].bad;opts.forEach(o=>{if(o.getAttribute('onclick')&&o.getAttribute('onclick').includes('true'))o.classList.add('reveal-correct');});}markDone(idx);saveState();}
function toggleCheck(el,idx){if(!state.checks[idx])state.checks[idx]=false;state.checks[idx]=!state.checks[idx];el.classList.toggle('checked',state.checks[idx]);updateChecklist();saveState();}
function updateChecklist(){const total=7,checked=state.checks.filter(Boolean).length;document.getElementById('cl-fill').style.width=(checked/total*100)+'%';document.getElementById('cl-label').textContent=checked+' / '+total;if(checked===total&&!state.done.includes(4))markDone(4);}
function copyCode(btn){const pre=btn.closest('.code-block').querySelector('pre');navigator.clipboard.writeText(pre.innerText).then(()=>{btn.textContent='copied!';setTimeout(()=>btn.textContent='copy',1500);});}
function resetAll(){state={current:0,done:[],correct:[],answered:[],checks:[]};saveState();document.querySelectorAll('.nav-item').forEach(i=>i.classList.remove('done'));document.querySelectorAll('.kcheck-opt').forEach(o=>{o.classList.remove('correct','wrong','reveal-correct','disabled');o.style.pointerEvents='';});document.querySelectorAll('.kcheck-feedback').forEach(f=>{f.className='kcheck-feedback';f.textContent='';});document.querySelectorAll('.check-item').forEach(i=>i.classList.remove('checked'));updateChecklist();updateProgress();goTo(0);}
function restoreState(){state.done.forEach(n=>{const items=document.querySelectorAll('.nav-item');if(items[n])items[n].classList.add('done');});state.answered.forEach(idx=>{const paneEl=document.getElementById('pane-'+idx);if(!paneEl)return;const opts=paneEl.querySelectorAll('.kcheck-opt');opts.forEach(o=>{o.classList.add('disabled');o.style.pointerEvents='none';});const fbEl=document.getElementById('fb-'+idx);if(state.correct.includes(idx)){const co=Array.from(opts).find(o=>o.getAttribute('onclick')&&o.getAttribute('onclick').includes('true'));if(co)co.classList.add('correct');if(fbEl){fbEl.className='kcheck-feedback show good';fbEl.textContent='‚úì '+fb[idx].good;}}else{opts.forEach(o=>{if(o.getAttribute('onclick')&&o.getAttribute('onclick').includes('true'))o.classList.add('reveal-correct');});if(fbEl){fbEl.className='kcheck-feedback show bad';fbEl.textContent='‚úó '+fb[idx].bad;}}});state.checks.forEach((v,i)=>{if(v){const items=document.querySelectorAll('.check-item');if(items[i])items[i].classList.add('checked');}});updateChecklist();updateProgress();goTo(state.current||0);}
restoreState();
</script>
</body>
</html>
