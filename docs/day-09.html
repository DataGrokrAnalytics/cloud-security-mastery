<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Day 9 ‚Äî Zero Trust: IAM Access Analyzer</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&family=DM+Serif+Display:ital@0;1&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="shared.css">
</head>
<body>
<div class="shell">
<nav class="sidebar">
  <div class="sidebar-header">
    <div class="day-badge">Week 2 ¬∑ Day 9</div>
    <h2>Zero Trust:<br>IAM Access Analyzer</h2>
    <div class="sidebar-meta"><span class="chip">Zero Trust</span><span class="chip">4 lessons</span><span class="chip">1 lab</span><span class="chip">~4h</span></div>
  </div>
  <div class="sidebar-back">
    <a class="back-index" href="../index.html">
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M7.5 2L3.5 6L7.5 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
      Course Index
    </a>
    <div class="week-jumps-label">Jump to week</div>
    <div class="week-jumps">
      <a class="week-jump wj1" href="../index.html#week-1">W1</a>
      <a class="week-jump wj2" href="../index.html#week-2">W2</a>
      <a class="week-jump wj3" href="../index.html#week-3">W3</a>
      <a class="week-jump wj4" href="../index.html#week-4">W4</a>
    </div>
    <div class="day-nav-label">Week 2 days</div>
    <div class="day-nav">
      <a class="day-link" href="day-08.html">D8</a>
      <a class="day-link current" href="day-09.html">D9</a>
      <a class="day-link" href="day-10.html">D10</a>
      <a class="day-link" href="day-11.html">D11</a>
      <a class="day-link" href="day-12.html">D12</a>
      <a class="day-link" href="day-13.html">D13</a>
      <a class="day-link" href="day-14.html">D14</a>
    </div>
  </div>

  <div class="lesson-nav">
    <div class="nav-group-label">Lessons</div>
    <div class="nav-item active" onclick="goTo(0)"><span class="nav-num">01</span><span class="nav-label">Zero Trust Architecture</span><span class="nav-check">‚úì</span></div>
    <div class="nav-item" onclick="goTo(1)"><span class="nav-num">02</span><span class="nav-label">Access Analyzer: How It Works</span><span class="nav-check">‚úì</span></div>
    <div class="nav-item" onclick="goTo(2)"><span class="nav-num">03</span><span class="nav-label">Finding Types &amp; Triage</span><span class="nav-check">‚úì</span></div>
    <div class="nav-item" onclick="goTo(3)"><span class="nav-num">04</span><span class="nav-label">Automated Remediation</span><span class="nav-check">‚úì</span></div>
    <div class="nav-group-label" style="margin-top:8px">Lab</div>
    <div class="nav-item lab-item" onclick="goTo(4)"><span class="nav-num" style="color:var(--lab)">üî¨</span><span class="nav-label">Hands-on: Activate &amp; Triage Findings</span><span class="nav-check">‚úì</span></div>
  </div>
  <div class="sidebar-footer">
    <div class="progress-label"><span>Progress</span><span id="progress-pct">0 / 5</span></div>
    <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
  </div>
</nav>
<div class="main">
  <div class="lesson-topbar">
    <div class="lesson-crumb">Week 2 ¬∑ Day 9 &nbsp;/&nbsp; <span id="topbar-title">Zero Trust Architecture</span></div>
    <div class="nav-arrows">
      <button class="arrow-btn" id="btn-prev" onclick="prev()" disabled>‚Üê Prev</button>
      <button class="arrow-btn" id="btn-next" onclick="next()">Next ‚Üí</button>
    </div>
  </div>

  <!-- LESSON 1 -->
  <div class="lesson-pane active" id="pane-0">
    <div class="lesson-tag tag-security">Zero Trust</div>
    <h1>Zero Trust<br><em>Architecture</em></h1>
    <p><strong>Objective:</strong> Understand the Zero Trust model from first principles ‚Äî what it means in a cloud identity context, why it replaced perimeter security, and how IAM implements it.</p>
    <p>The perimeter model assumed: "inside the network = trusted." Cloud destroyed this assumption. In AWS, there is no inside. An EC2 instance, a Lambda function, an on-premise server, and an attacker with stolen credentials all look identical to the IAM service. The only thing that differentiates them is the identity and its associated policies.</p>
    <p>Zero Trust replaces "trust the network" with three principles:</p>

    <div class="zt-pillars">
      <div class="zt-pillar"><div class="zt-pillar-icon">üîç</div><div class="zt-pillar-name">Verify Explicitly</div><div class="zt-pillar-desc">Always authenticate and authorise on every request. Use all available signals: identity, location, device, service, data classification, anomalies.</div></div>
      <div class="zt-pillar"><div class="zt-pillar-icon">üîë</div><div class="zt-pillar-name">Least Privilege Access</div><div class="zt-pillar-desc">Limit access with just-in-time, just-enough-access. Minimise blast radius. Never standing admin access.</div></div>
      <div class="zt-pillar"><div class="zt-pillar-icon">üí•</div><div class="zt-pillar-name">Assume Breach</div><div class="zt-pillar-desc">Design assuming an attacker is already inside. Segment access, encrypt everything, log all actions, minimise lateral movement paths.</div></div>
      <div class="zt-pillar"><div class="zt-pillar-icon">üëÅÔ∏è</div><div class="zt-pillar-name">Continuous Verification</div><div class="zt-pillar-desc">Don't grant and forget. Continuously re-evaluate access as context changes: new CVEs, credential age, usage patterns, anomaly signals.</div></div>
    </div>

    <div class="callout insight"><div class="callout-title">üí° AWS IAM is a Zero Trust Engine</div>Every IAM evaluation is stateless: no historical context, no "we verified this user last week." Every API call is independently evaluated from scratch. This is Zero Trust by design ‚Äî the challenge is configuring policies that reflect the principle.</div>

    <div class="callout breach"><div class="callout-title">‚ö† Stolen Credentials ‚Äî 20% of All Cloud Breaches</div>IBM CDBIR 2025: stolen or compromised credentials account for 20% of cloud breaches. The attacker doesn't need to exploit a vulnerability ‚Äî they just need valid credentials. Zero Trust's "assume breach" pillar means designing for the scenario where credentials are already stolen.</div>

    <div class="kcheck">
      <div class="kcheck-label">Knowledge Check</div>
      <div class="kcheck-q">A developer's laptop is stolen. The attacker recovers long-lived IAM access keys from the disk. Under a proper Zero Trust implementation, what limits the damage?</div>
      <div class="kcheck-options">
        <button class="kcheck-opt" onclick="check(this,false,0)"><span class="opt-key">A</span>The attacker can't use the keys from a different IP ‚Äî AWS blocks unfamiliar locations</button>
        <button class="kcheck-opt" onclick="check(this,true,0)"><span class="opt-key">B</span>Least privilege limits what the keys can access, JIT means they should have expired, and continuous monitoring detects anomalous usage for rapid revocation</button>
        <button class="kcheck-opt" onclick="check(this,false,0)"><span class="opt-key">C</span>MFA protects access keys ‚Äî the attacker needs the second factor</button>
        <button class="kcheck-opt" onclick="check(this,false,0)"><span class="opt-key">D</span>AWS automatically invalidates keys when a new IP accesses them</button>
      </div>
      <div class="kcheck-feedback" id="fb-0"></div>
    </div>
    <div class="lesson-nav-footer"><button class="prev-btn" disabled>‚Üê Previous</button><button class="next-btn" onclick="next()">Next Lesson ‚Üí</button></div>
  </div>

  <!-- LESSON 2 -->
  <div class="lesson-pane" id="pane-1">
    <div class="lesson-tag tag-concept">Core Service</div>
    <h1>Access Analyzer:<br><em>How It Works</em></h1>
    <p><strong>Objective:</strong> Understand how IAM Access Analyzer uses automated reasoning to find external access paths ‚Äî not heuristics, but mathematical proof of what can be accessed by whom.</p>
    <p>IAM Access Analyzer is not a scanner that guesses at risks. It uses <strong>automated reasoning</strong> ‚Äî a formal method that mathematically proves whether a given external principal can access a given resource, given any combination of policies. It analyses every resource-based policy in your account and identifies those that grant access to principals outside your account's trust zone.</p>

    <div class="callout insight"><div class="callout-title">üí° Zone of Trust</div>When you create an analyzer, you define a Zone of Trust. Any principal outside this zone that has access to your resources generates a finding. Zones can be: a single account (most common), an AWS Organization (catches cross-account, not cross-org), or multiple accounts.</div>

    <div class="code-block">
      <div class="code-header"><span class="code-lang">bash ‚Äî Create an Analyzer</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
      <pre><span class="comment"># Account-level analyzer (catches access from outside your account)</span>
aws accessanalyzer create-analyzer \
  --analyzer-name <span class="hl">csm-account-analyzer</span> \
  --type <span class="hl2">ACCOUNT</span>

<span class="comment"># Organization-level (requires AWS Organizations management account)</span>
aws accessanalyzer create-analyzer \
  --analyzer-name <span class="str">csm-org-analyzer</span> \
  --type <span class="hl2">ORGANIZATION</span>

<span class="comment"># List active analyzers</span>
aws accessanalyzer list-analyzers</pre>
    </div>

    <p>Access Analyzer continuously monitors these resource types: S3 buckets, IAM roles (trust policies), KMS keys, Lambda functions and layers, SQS queues, Secrets Manager secrets, and SNS topics. Any policy change that creates a new external access path triggers a new finding within minutes.</p>

    <div class="callout warning"><div class="callout-title">‚ö† What Access Analyzer Does NOT Find</div>It does not find unused permissions (that's CIEM ‚Äî Day 10). It does not find privilege escalation paths within your account. It does not scan S3 object ACLs. It only finds where external principals have been explicitly granted access via policy.</div>

    <div class="kcheck">
      <div class="kcheck-label">Knowledge Check</div>
      <div class="kcheck-q">You create an account-level Access Analyzer. An S3 bucket has a bucket policy granting read access to <code>arn:aws:iam::999999999:role/AuditRole</code> (a different AWS account). What happens?</div>
      <div class="kcheck-options">
        <button class="kcheck-opt" onclick="check(this,true,1)"><span class="opt-key">A</span>Access Analyzer generates a finding ‚Äî the external account's role is outside your zone of trust</button>
        <button class="kcheck-opt" onclick="check(this,false,1)"><span class="opt-key">B</span>No finding ‚Äî the external role has a specific ARN, which means it's intentional and trusted</button>
        <button class="kcheck-opt" onclick="check(this,false,1)"><span class="opt-key">C</span>Access Analyzer blocks the bucket policy from being applied</button>
        <button class="kcheck-opt" onclick="check(this,false,1)"><span class="opt-key">D</span>A finding is only generated if the bucket is public (no authentication required)</button>
      </div>
      <div class="kcheck-feedback" id="fb-1"></div>
    </div>
    <div class="lesson-nav-footer"><button class="prev-btn" onclick="prev()">‚Üê Previous</button><button class="next-btn" onclick="next()">Next Lesson ‚Üí</button></div>
  </div>

  <!-- LESSON 3 -->
  <div class="lesson-pane" id="pane-2">
    <div class="lesson-tag tag-warning">Operations</div>
    <h1>Finding Types<br><em>&amp; Triage</em></h1>
    <p><strong>Objective:</strong> Know how to triage Access Analyzer findings efficiently ‚Äî which patterns are genuinely risky vs. expected, and how to build an archive workflow so findings don't become noise.</p>

    <div class="finding-types">
      <div class="finding-row"><div class="finding-type">Type</div><div class="finding-pct">% of Findings</div><div class="finding-desc">Description &amp; Action</div></div>
      <div class="finding-row"><div class="finding-type">Internet</div><div class="finding-pct">~15%</div><div class="finding-desc">Resource accessible to anyone (<code>"Principal": "*"</code> with no conditions). <strong>Almost always critical</strong> ‚Äî investigate immediately and remediate unless deliberately public.</div></div>
      <div class="finding-row"><div class="finding-type">Cross-account</div><div class="finding-pct">~25%</div><div class="finding-desc">Specific external account has access. Review against your list of approved vendors/partners. Archive if expected, remediate if unexpected.</div></div>
      <div class="finding-row"><div class="finding-type">Cross-org</div><div class="finding-pct">~10%</div><div class="finding-desc">Another AWS account in your Organisation but a different OU. Often legitimate (shared services) ‚Äî confirm OU ownership and archive if approved.</div></div>
      <div class="finding-row"><div class="finding-type">Federated</div><div class="finding-pct">~30%</div><div class="finding-desc">Identity provider (Okta, Azure AD) has access via SAML/OIDC. Usually expected for SSO ‚Äî confirm IdP and archive.</div></div>
      <div class="finding-row"><div class="finding-type">AWS Service</div><div class="finding-pct">~20%</div><div class="finding-desc">AWS service principal (e.g. lambda.amazonaws.com). Almost always legitimate service integrations ‚Äî archive after verifying the use case.</div></div>
    </div>

    <div class="callout tip"><div class="callout-title">‚úì Archive, Don't Suppress</div>When a finding is legitimate, archive it with a note explaining why (e.g. "Vendor X cross-account read ‚Äî approved 2025-01-15 by CISO"). This creates an auditable record. Unreviewed findings = audit failure. Archived with rationale = audit pass.</div>

    <div class="kcheck">
      <div class="kcheck-label">Knowledge Check</div>
      <div class="kcheck-q">Access Analyzer finds that your S3 log bucket has a bucket policy granting read access to <code>delivery.logs.amazonaws.com</code>. What should you do?</div>
      <div class="kcheck-options">
        <button class="kcheck-opt" onclick="check(this,false,2)"><span class="opt-key">A</span>Remove the policy ‚Äî no AWS service should have direct access to S3</button>
        <button class="kcheck-opt" onclick="check(this,true,2)"><span class="opt-key">B</span>Verify this is the ELB/CloudFront log delivery service, then archive the finding with a note explaining the legitimate use case</button>
        <button class="kcheck-opt" onclick="check(this,false,2)"><span class="opt-key">C</span>Escalate as a critical incident ‚Äî AWS service principals accessing S3 indicate a supply chain attack</button>
        <button class="kcheck-opt" onclick="check(this,false,2)"><span class="opt-key">D</span>Do nothing ‚Äî AWS service access is outside the Zone of Trust and won't generate findings</button>
      </div>
      <div class="kcheck-feedback" id="fb-2"></div>
    </div>
    <div class="lesson-nav-footer"><button class="prev-btn" onclick="prev()">‚Üê Previous</button><button class="next-btn" onclick="next()">Next Lesson ‚Üí</button></div>
  </div>

  <!-- LESSON 4 -->
  <div class="lesson-pane" id="pane-3">
    <div class="lesson-tag tag-security">Automation</div>
    <h1>Automated<br><em>Remediation</em></h1>
    <p><strong>Objective:</strong> Build an automated remediation pipeline for Access Analyzer findings using EventBridge and Lambda so critical findings are acted on within minutes, not weeks.</p>
    <p>Access Analyzer emits EventBridge events for every new finding. This lets you build automated workflows: notify on new Internet-access findings, auto-remediate specific patterns, or auto-archive expected vendor access. The pattern is: Analyzer finding ‚Üí EventBridge rule ‚Üí Lambda function ‚Üí remediate or notify.</p>

    <div class="code-block">
      <div class="code-header"><span class="code-lang">JSON ‚Äî EventBridge Rule: Alert on Internet Access Findings</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
      <pre>{
  <span class="key">"source"</span>: [<span class="str">"aws.access-analyzer"</span>],
  <span class="key">"detail-type"</span>: [<span class="str">"Access Analyzer Finding"</span>],
  <span class="key">"detail"</span>: {
    <span class="key">"status"</span>: [<span class="str">"ACTIVE"</span>],
    <span class="key">"principal"</span>: {
      <span class="key">"AWS"</span>: [<span class="str">"*"</span>]  <span class="comment">// Any AWS principal (catches internet access)</span>
    },
    <span class="key">"isPublic"</span>: [<span class="hl2">true</span>]  <span class="comment">// Only public findings</span>
  }
}</pre>
    </div>

    <div class="callout insight"><div class="callout-title">üí° Portfolio Proof: Automated Findings Response</div>A SOAR automation that automatically archives expected findings and pages on unexpected ones is a strong portfolio piece. It demonstrates you can build a detection workflow, not just read a findings dashboard. Day 26 covers full SOAR ‚Äî today's lab builds the foundation.</div>

    <div class="kcheck">
      <div class="kcheck-label">Knowledge Check</div>
      <div class="kcheck-q">You want to automatically revoke S3 bucket public access whenever Access Analyzer finds an internet-accessible bucket. Which architecture is correct?</div>
      <div class="kcheck-options">
        <button class="kcheck-opt" onclick="check(this,false,3)"><span class="opt-key">A</span>Configure Access Analyzer's built-in auto-remediation setting in the console</button>
        <button class="kcheck-opt" onclick="check(this,true,3)"><span class="opt-key">B</span>EventBridge rule (filter: Access Analyzer + isPublic=true + resourceType=S3) ‚Üí Lambda function ‚Üí S3:PutPublicAccessBlock to block public access + SNS notification</button>
        <button class="kcheck-opt" onclick="check(this,false,3)"><span class="opt-key">C</span>CloudWatch Alarm on AccessAnalyzer:FindingCount ‚Üí Lambda remediation</button>
        <button class="kcheck-opt" onclick="check(this,false,3)"><span class="opt-key">D</span>Config rule with auto-remediation SSM document targeting the S3 bucket</button>
      </div>
      <div class="kcheck-feedback" id="fb-3"></div>
    </div>
    <div class="lesson-nav-footer"><button class="prev-btn" onclick="prev()">‚Üê Previous</button><button class="next-btn lab-btn" onclick="next()">Start Lab ‚Üí</button></div>
  </div>

  <!-- LAB -->
  <div class="lesson-pane lab-pane" id="pane-4">
    <div class="lesson-tag tag-lab">üî¨ Hands-On Lab</div>
    <h1>Activate &amp; Triage<br><em>Access Analyzer Findings</em></h1>
    <p>Enable IAM Access Analyzer, generate intentional findings to test it, triage and archive findings with rationale, and export the findings report for your portfolio.</p>
    <div class="callout lab-note"><div class="callout-title">‚ö° Cost Note</div>IAM Access Analyzer is free. The findings you generate in this lab don't incur charges. You'll create a temporary public S3 bucket purely to test the detector, then make it private immediately.</div>

    <div class="lab-steps">
      <div class="lab-step">
        <div class="step-num-wrap"><div class="step-num">1</div><div class="step-connector"></div></div>
        <div class="step-content">
          <div class="step-title">Enable Access Analyzer <span style="font-size:12px;color:var(--muted);font-family:'IBM Plex Mono',monospace">~5 min</span></div>
          <div class="step-body">
            <ol>
              <li>IAM ‚Üí Access Analyzer ‚Üí Create analyzer</li>
              <li>Name: <code>csm-account-analyzer</code>, Type: Account</li>
              <li>Click Create Analyzer ‚Äî initial scan runs immediately</li>
              <li>Note: if you have existing cross-account findings from Day 4 SCP testing, they may appear here</li>
            </ol>
          </div>
        </div>
      </div>
      <div class="lab-step">
        <div class="step-num-wrap"><div class="step-num">2</div><div class="step-connector"></div></div>
        <div class="step-content">
          <div class="step-title">Generate a Test Finding <span style="font-size:12px;color:var(--muted);font-family:'IBM Plex Mono',monospace">~10 min</span></div>
          <div class="step-body">
            <p style="color:#8a92a8;margin-bottom:10px">Create a temporary S3 bucket with a public policy to trigger an Internet-access finding:</p>
            <div class="code-block" style="margin:8px 0">
              <div class="code-header"><span class="code-lang">bash</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
              <pre><span class="comment"># Create test bucket</span>
aws s3api create-bucket --bucket csm-analyzer-test-$(date +%s) \
  --region us-east-1

<span class="comment"># Apply a public read policy (DO NOT do this in production)</span>
aws s3api put-bucket-policy --bucket YOUR-BUCKET-NAME --policy '{
  "Version":"2012-10-17",
  "Statement":[{"Effect":"Allow","Principal":"*","Action":"s3:GetObject","Resource":"arn:aws:s3:::YOUR-BUCKET-NAME/*"}]
}'

<span class="comment"># Wait ~2 minutes, then check findings</span>
aws accessanalyzer list-findings --analyzer-arn YOUR-ANALYZER-ARN</pre>
            </div>
          </div>
        </div>
      </div>
      <div class="lab-step">
        <div class="step-num-wrap"><div class="step-num">3</div><div class="step-connector"></div></div>
        <div class="step-content">
          <div class="step-title">Remediate, Then Archive <span style="font-size:12px;color:var(--muted);font-family:'IBM Plex Mono',monospace">~10 min</span></div>
          <div class="step-body">
            <ol>
              <li>Immediately remove the public policy: <code>aws s3api delete-bucket-policy --bucket YOUR-BUCKET-NAME</code></li>
              <li>In Console: Access Analyzer ‚Üí click the finding ‚Üí Review action ‚Üí Archive</li>
              <li>Archive note: <code>"Test finding ‚Äî deliberately created 2025-XX-XX for Day 9 lab. Bucket policy removed immediately."</code></li>
              <li>Delete the test bucket: <code>aws s3api delete-bucket --bucket YOUR-BUCKET-NAME</code></li>
            </ol>
          </div>
        </div>
      </div>
      <div class="lab-step">
        <div class="step-num-wrap"><div class="step-num">4</div></div>
        <div class="step-content">
          <div class="step-title">Export Findings Report <span style="font-size:12px;color:var(--muted);font-family:'IBM Plex Mono',monospace">~10 min</span></div>
          <div class="step-body">
            <ol>
              <li>CLI: <code>aws accessanalyzer list-findings --analyzer-arn YOUR-ANALYZER-ARN &gt; day-09-findings.json</code></li>
              <li>Save to <code>portfolio/reports/day-09-access-analyzer-findings.json</code></li>
              <li>Write <code>DAY-09-Access-Analyzer.md</code>: document the finding type, what triggered it, how you triaged it, and the archive rationale</li>
              <li>GitHub commit: <code>"Day 9: Access Analyzer activated ‚Äî internet-access finding triaged and remediated"</code></li>
            </ol>
          </div>
        </div>
      </div>
    </div>

    <h2 style="font-family:'DM Serif Display',serif;font-size:20px;color:#e4eaf6;margin:32px 0 16px;font-weight:400">Lab Completion Checklist</h2>
    <div class="checklist-progress"><div class="checklist-progress-bar"><div class="checklist-progress-fill" id="cl-fill"></div></div><span class="checklist-progress-label" id="cl-label">0 / 6</span></div>
    <div class="checklist">
      <div class="check-item" onclick="toggleCheck(this,0)"><div class="check-box">‚úì</div><div class="check-text">IAM Access Analyzer enabled (account-level)</div></div>
      <div class="check-item" onclick="toggleCheck(this,1)"><div class="check-box">‚úì</div><div class="check-text">Test S3 bucket created with public policy ‚Äî Internet-access finding generated</div></div>
      <div class="check-item" onclick="toggleCheck(this,2)"><div class="check-box">‚úì</div><div class="check-text">Public policy removed immediately after confirming finding</div></div>
      <div class="check-item" onclick="toggleCheck(this,3)"><div class="check-box">‚úì</div><div class="check-text">Finding archived with rationale note in console</div></div>
      <div class="check-item" onclick="toggleCheck(this,4)"><div class="check-box">‚úì</div><div class="check-text">Findings report exported to portfolio/reports/</div></div>
      <div class="check-item" onclick="toggleCheck(this,5)"><div class="check-box">‚úì</div><div class="check-text">DAY-09 markdown written and committed to GitHub</div></div>
    </div>
    <div class="lesson-nav-footer"><button class="prev-btn" onclick="prev()">‚Üê Previous</button><button class="next-btn lab-btn" onclick="finish()">Complete Day 9 ‚úì</button></div>
  </div>

  <!-- COMPLETION -->
  <div class="lesson-pane" id="pane-complete">
    <div class="completion-card">
      <span class="completion-icon">üîç</span>
      <h1>Day 9 Complete!</h1>
      <p>You understand Zero Trust architecture, how Access Analyzer uses automated reasoning, finding types and triage, and how to build automated remediation pipelines.</p>
      <div class="score-pill"><span>‚ö°</span> Quiz: <span id="score-val">‚Äî</span></div><br>
      <div class="lab-score-pill"><span>üî¨</span> Lab: <span id="lab-score-val">‚Äî</span></div>
      <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap">
        <a href="../index.html" style="text-decoration:none"><button class="prev-btn">‚Üê Course Index</button></a>
        <a href="day-10.html" style="text-decoration:none"><button class="next-btn">Day 10: CIEM Operations ‚Üí</button></a>
      </div>
    </div>
  </div>
</div>
</div>
<script src="csm-core.js"></script>
<script>
initPage({
  storageKey: 'csm-day09',
  total: 5,
  quizCount: 4,
  checkTotal: 6,
  titles: ['Zero Trust Architecture','Access Analyzer: How It Works','Finding Types & Triage','Automated Remediation','Hands-on: Activate & Triage Findings'],
  fb: {
  0:{good:"Correct. Long-lived access keys are the problem ‚Äî Zero Trust mitigates the impact through least privilege (limits what stolen keys can do), JIT (keys should have expired), and continuous monitoring (detects anomalous usage). MFA doesn't protect access keys ‚Äî it only protects console logins.",bad:"Not quite. AWS does not block access from unfamiliar IPs, and MFA protects console logins not programmatic access keys. Zero Trust limits damage via least privilege (limits scope), JIT (keys should have expired), and anomaly detection (rapid revocation)."},
  1:{good:"Correct. Any principal outside your account's Zone of Trust that has access to a resource generates a finding ‚Äî including specific named external roles. The finding lets you review whether this is an approved vendor or unexpected access.",bad:"Not quite. Access Analyzer generates findings for ALL external principals, including specifically named roles from other accounts. The specificity of the ARN doesn't imply trust ‚Äî it still needs to be reviewed and archived if legitimate."},
  2:{good:"Correct. delivery.logs.amazonaws.com is the AWS log delivery service used by ELB, CloudFront, and others to write access logs to S3. This is a legitimate AWS service principal. Verify the use case, then archive with a rationale note.",bad:"Not quite. delivery.logs.amazonaws.com is a legitimate AWS service principal ‚Äî not a threat indicator. These findings require verification, not alarm. Check that the service matches your infrastructure (ELB/CloudFront logging), then archive with a note."},
  3:{good:"Correct. The correct architecture is: EventBridge rule filtering for Access Analyzer findings where isPublic=true and resourceType=AWS::S3::Bucket ‚Üí Lambda function that calls s3:PutPublicAccessBlock ‚Üí SNS notification. Access Analyzer has no built-in auto-remediation.",bad:"Not quite. Access Analyzer has no built-in auto-remediation feature. The correct approach is EventBridge (catches the finding event) ‚Üí Lambda (executes the remediation) ‚Üí S3:PutPublicAccessBlock + notification. Config remediation targets detected drift, not Analyzer findings specifically."}
}
});
</script>
</body>
</html>
