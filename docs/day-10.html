<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Day 10 ‚Äî CIEM Operations</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&family=DM+Serif+Display:ital@0;1&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="shared.css">
</head>
<body>
<div class="shell">
<nav class="sidebar">
  <div class="sidebar-header">
    <div class="day-badge">Week 2 ¬∑ Day 10</div>
    <h2>CIEM Operations</h2>
    <div class="sidebar-meta"><span class="chip">Entitlement</span><span class="chip">4 lessons</span><span class="chip">1 lab</span><span class="chip">~4h</span></div>
  </div>
  <div class="sidebar-back">
    <a class="back-index" href="../index.html">
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M7.5 2L3.5 6L7.5 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
      Course Index
    </a>
    <div class="week-jumps-label">Jump to week</div>
    <div class="week-jumps">
      <a class="week-jump wj1" href="../index.html#week-1">W1</a>
      <a class="week-jump wj2" href="../index.html#week-2">W2</a>
      <a class="week-jump wj3" href="../index.html#week-3">W3</a>
      <a class="week-jump wj4" href="../index.html#week-4">W4</a>
    </div>
    <div class="day-nav-label">Week 2 days</div>
    <div class="day-nav">
      <a class="day-link" href="day-08.html">D8</a>
      <a class="day-link" href="day-09.html">D9</a>
      <a class="day-link current" href="day-10.html">D10</a>
      <a class="day-link" href="day-11.html">D11</a>
      <a class="day-link" href="day-12.html">D12</a>
      <a class="day-link" href="day-13.html">D13</a>
      <a class="day-link" href="day-14.html">D14</a>
    </div>
  </div>

  <div class="lesson-nav">
    <div class="nav-group-label">Lessons</div>
    <div class="nav-item active" onclick="goTo(0)"><span class="nav-num">01</span><span class="nav-label">Entitlement Sprawl</span><span class="nav-check">‚úì</span></div>
    <div class="nav-item" onclick="goTo(1)"><span class="nav-num">02</span><span class="nav-label">Secrets Manager</span><span class="nav-check">‚úì</span></div>
    <div class="nav-item" onclick="goTo(2)"><span class="nav-num">03</span><span class="nav-label">Credential Reports &amp; Last-Accessed</span><span class="nav-check">‚úì</span></div>
    <div class="nav-item" onclick="goTo(3)"><span class="nav-num">04</span><span class="nav-label">Right-Sizing Permissions</span><span class="nav-check">‚úì</span></div>
    <div class="nav-group-label" style="margin-top:8px">Lab</div>
    <div class="nav-item lab-item" onclick="goTo(4)"><span class="nav-num" style="color:var(--lab)">üî¨</span><span class="nav-label">Hands-on: Audit &amp; Cleanup</span><span class="nav-check">‚úì</span></div>
  </div>
  <div class="sidebar-footer">
    <div class="progress-label"><span>Progress</span><span id="progress-pct">0 / 5</span></div>
    <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
  </div>
</nav>
<div class="main">
  <div class="lesson-topbar">
    <div class="lesson-crumb">Week 2 ¬∑ Day 10 &nbsp;/&nbsp; <span id="topbar-title">Entitlement Sprawl</span></div>
    <div class="nav-arrows">
      <button class="arrow-btn" id="btn-prev" onclick="prev()" disabled>‚Üê Prev</button>
      <button class="arrow-btn" id="btn-next" onclick="next()">Next ‚Üí</button>
    </div>
  </div>

  <!-- L1 -->
  <div class="lesson-pane active" id="pane-0">
    <div class="lesson-tag tag-warning">CIEM</div>
    <h1>Entitlement<br><em>Sprawl</em></h1>
    <p><strong>Objective:</strong> Understand Cloud Infrastructure Entitlement Management (CIEM) ‚Äî why permissions accumulate far beyond what's needed and why this is the #1 cloud-native attack vector.</p>
    <p>CIEM is a Gartner-defined capability for discovering, assessing, and right-sizing cloud identity permissions. The problem it solves is entitlement sprawl: over time, every cloud environment accumulates far more permissions than any identity actually uses.</p>
    <div class="sprawl-meter">
      <div class="sprawl-title">‚ö† Typical Permission Sprawl (Palo Alto Unit 42, 2025)</div>
      <div class="sprawl-row"><span class="sprawl-label">Permissions granted</span><div class="sprawl-bar-wrap"><div class="sprawl-bar" style="width:100%;background:var(--danger)"></div></div><span class="sprawl-val">10,000</span></div>
      <div class="sprawl-row"><span class="sprawl-label">Permissions used</span><div class="sprawl-bar-wrap"><div class="sprawl-bar" style="width:10%;background:var(--accent)"></div></div><span class="sprawl-val">~1,000</span></div>
      <div class="sprawl-row"><span class="sprawl-label">Dormant identities</span><div class="sprawl-bar-wrap"><div class="sprawl-bar" style="width:30%;background:var(--amber)"></div></div><span class="sprawl-val">30%</span></div>
    </div>
    <p>The causes are simple: developers request broad permissions to avoid friction, policies are copy-pasted from Stack Overflow, nobody removes permissions when a project ends, and IAM reviews happen annually at best. The result is that 90% of granted permissions are never used ‚Äî but every one of them is available to an attacker who compromises that identity.</p>
    <div class="callout breach"><div class="callout-title">‚ö† Entitlement Abuse ‚Äî #1 Cloud Attack Vector</div>Credential theft + overprivileged identity = maximum blast radius. An attacker who steals an IAM key with 10,000 permissions has far more options than one with 100. CIEM closes this gap by ensuring stolen credentials can't do much even if obtained.</div>
    <div class="kcheck">
      <div class="kcheck-label">Knowledge Check</div>
      <div class="kcheck-q">A developer's IAM role has 500 permissions across 15 AWS services. The developer only works on a Lambda function that reads from one DynamoDB table. Which statement best describes this situation from a security perspective?</div>
      <div class="kcheck-options">
        <button class="kcheck-opt" onclick="check(this,false,0)"><span class="opt-key">A</span>This is fine ‚Äî unused permissions don't create risk since the developer isn't using them</button>
        <button class="kcheck-opt" onclick="check(this,true,0)"><span class="opt-key">B</span>This is a high-risk entitlement sprawl pattern ‚Äî if the developer's credentials are compromised, the attacker has 500 permissions across 15 services, not just DynamoDB access</button>
        <button class="kcheck-opt" onclick="check(this,false,0)"><span class="opt-key">C</span>This is normal for Lambda roles ‚Äî Lambda needs broad permissions for monitoring and logging</button>
        <button class="kcheck-opt" onclick="check(this,false,0)"><span class="opt-key">D</span>This is only a risk if the developer has console access</button>
      </div>
      <div class="kcheck-feedback" id="fb-0"></div>
    </div>
    <div class="lesson-nav-footer"><button class="prev-btn" disabled>‚Üê Previous</button><button class="next-btn" onclick="next()">Next Lesson ‚Üí</button></div>
  </div>

  <!-- L2 -->
  <div class="lesson-pane" id="pane-1">
    <div class="lesson-tag tag-concept">Secrets Management</div>
    <h1>AWS Secrets<br><em>Manager</em></h1>
    <p><strong>Objective:</strong> Replace hardcoded credentials and long-lived secrets with Secrets Manager ‚Äî the operational foundation for eliminating static credentials from your environment.</p>
    <p>The most common source of credential sprawl is hardcoded secrets: database passwords in environment variables, API keys in application config, IAM access keys on developer laptops. Secrets Manager replaces all of these with centrally managed, automatically rotated secrets that applications retrieve at runtime.</p>
    <div class="code-block">
      <div class="code-header"><span class="code-lang">bash ‚Äî Store and Retrieve a Secret</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
      <pre><span class="comment"># Store a database password</span>
aws secretsmanager create-secret \
  --name <span class="hl">prod/myapp/db-password</span> \
  --secret-string <span class="str">'{"username":"admin","password":"s3cur3P@ss"}'</span>

<span class="comment"># Enable automatic rotation (requires a Lambda rotation function)</span>
aws secretsmanager rotate-secret \
  --secret-id <span class="hl">prod/myapp/db-password</span> \
  --rotation-rules <span class="hl2">AutomaticallyAfterDays=30</span>

<span class="comment"># Retrieve in application (Python SDK)</span>
<span class="comment"># import boto3; client.get_secret_value(SecretId='prod/myapp/db-password')</span></pre>
    </div>
    <div class="callout tip"><div class="callout-title">‚úì Resource Policy on Secrets</div>Add a resource-based policy to every secret: allow only the specific Lambda or EC2 role that needs it. Then any other role that tries to access the secret gets denied ‚Äî even with broad IAM permissions. This is defence-in-depth for secrets.</div>
    <div class="kcheck">
      <div class="kcheck-label">Knowledge Check</div>
      <div class="kcheck-q">An application's database password is hardcoded in an environment variable on an EC2 instance. A developer accidentally commits the instance user-data script to a public GitHub repo. What's the most resilient immediate response?</div>
      <div class="kcheck-options">
        <button class="kcheck-opt" onclick="check(this,false,1)"><span class="opt-key">A</span>Delete the GitHub repository and change the password ‚Äî the repo is private now so it's safe</button>
        <button class="kcheck-opt" onclick="check(this,true,1)"><span class="opt-key">B</span>Immediately rotate the database password AND migrate it to Secrets Manager so future rotations are automatic and no credential is ever hardcoded again</button>
        <button class="kcheck-opt" onclick="check(this,false,1)"><span class="opt-key">C</span>Encrypt the environment variable ‚Äî encrypted env vars are safe even if the script is exposed</button>
        <button class="kcheck-opt" onclick="check(this,false,1)"><span class="opt-key">D</span>Add GitHub secret scanning ‚Äî it will detect and remove the credential from the public repo</button>
      </div>
      <div class="kcheck-feedback" id="fb-1"></div>
    </div>
    <div class="lesson-nav-footer"><button class="prev-btn" onclick="prev()">‚Üê Previous</button><button class="next-btn" onclick="next()">Next Lesson ‚Üí</button></div>
  </div>

  <!-- L3 -->
  <div class="lesson-pane" id="pane-2">
    <div class="lesson-tag tag-concept">Audit Tools</div>
    <h1>Credential Reports<br><em>&amp; Last-Accessed Data</em></h1>
    <p><strong>Objective:</strong> Use IAM Credential Reports and last-accessed service data to identify dormant credentials and unused permissions that should be removed.</p>
    <p><strong>IAM Credential Report</strong> is a CSV covering every IAM user: password age, last used, access key age, access key last used, MFA status. It's the fastest way to identify users with keys that haven't been used in 90+ days ‚Äî those keys are dormant attack surfaces.</p>
    <div class="code-block">
      <div class="code-header"><span class="code-lang">bash ‚Äî Generate and Download Credential Report</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
      <pre><span class="comment"># Trigger report generation (takes ~30 seconds)</span>
aws iam generate-credential-report

<span class="comment"># Download the CSV report</span>
aws iam get-credential-report \
  --query <span class="hl">'Content'</span> \
  --output text | base64 -d > credential-report.csv

<span class="comment"># Find users with keys not used in 90+ days</span>
awk -F',' <span class="str">'NR>1 && $11!="N/A" {print $1,$10,$11}'</span> credential-report.csv</pre>
    </div>
    <p><strong>Last-accessed service data</strong> shows, for any IAM entity, when it last called each AWS service. If a role has EC2 permissions but hasn't called EC2 in 12 months, those permissions can be safely removed. Access this via IAM ‚Üí Users/Roles ‚Üí Access Advisor tab.</p>
    <div class="callout insight"><div class="callout-title">üí° The 90-Day Rule</div>CIS AWS Foundations Benchmark requires disabling/removing IAM credentials unused for 90+ days. This is control 1.12. If your CIS score from Week 1 wasn't 100%, this is likely one of the gaps. The credential report is how you find and remediate it.</div>
    <div class="kcheck">
      <div class="kcheck-label">Knowledge Check</div>
      <div class="kcheck-q">IAM Access Advisor shows that a role's S3 permissions were last used 400 days ago. The role currently has s3:* on all buckets. What's the safest course of action?</div>
      <div class="kcheck-options">
        <button class="kcheck-opt" onclick="check(this,false,2)"><span class="opt-key">A</span>Delete the role immediately ‚Äî 400 days of disuse means it's definitely not needed</button>
        <button class="kcheck-opt" onclick="check(this,false,2)"><span class="opt-key">B</span>Leave it ‚Äî Access Advisor data can be inaccurate for Lambda functions</button>
        <button class="kcheck-opt" onclick="check(this,true,2)"><span class="opt-key">C</span>Investigate the role's use case, then either remove S3 permissions if confirmed unused or scope them down to specific buckets and actions actually needed</button>
        <button class="kcheck-opt" onclick="check(this,false,2)"><span class="opt-key">D</span>Set a CloudWatch alarm for when S3 is next used, and remove permissions if the alarm never fires in 90 days</button>
      </div>
      <div class="kcheck-feedback" id="fb-2"></div>
    </div>
    <div class="lesson-nav-footer"><button class="prev-btn" onclick="prev()">‚Üê Previous</button><button class="next-btn" onclick="next()">Next Lesson ‚Üí</button></div>
  </div>

  <!-- L4 -->
  <div class="lesson-pane" id="pane-3">
    <div class="lesson-tag tag-security">Right-Sizing</div>
    <h1>Right-Sizing<br><em>Permissions</em></h1>
    <p><strong>Objective:</strong> Apply a systematic process for right-sizing overly permissive IAM policies using last-accessed data ‚Äî reducing entitlement sprawl without breaking applications.</p>
    <p>Right-sizing is the operational process of replacing broad permissions with minimal ones. The challenge: you can't just remove permissions without knowing the impact. The safe process uses CloudTrail + Access Advisor to find what's actually being called, then writes a policy with only those actions.</p>
    <div class="code-block">
      <div class="code-header"><span class="code-lang">bash ‚Äî Find What a Role Actually Calls (CloudTrail)</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
      <pre><span class="comment"># Find all API calls made by a specific role in the last 90 days</span>
aws cloudtrail lookup-events \
  --lookup-attributes <span class="hl">AttributeKey=Username,AttributeValue=csm-app-role</span> \
  --start-time <span class="str">$(date -d '90 days ago' +%Y-%m-%dT%H:%M:%SZ)</span> \
  --query <span class="hl2">'Events[*].EventName'</span> \
  --output text | sort | uniq

<span class="comment"># Output: the minimal set of actions this role actually uses</span>
<span class="comment"># Build a new policy with exactly these actions ‚Äî nothing more</span></pre>
    </div>
    <div class="callout warning"><div class="callout-title">‚ö† The Right-Sizing Risk</div>Removing permissions from production roles can break applications. Always: (1) test in staging first, (2) use a permission boundary to limit scope without breaking existing permissions, (3) monitor CloudWatch for AccessDenied errors for 30 days after the change.</div>
    <div class="kcheck">
      <div class="kcheck-label">Knowledge Check</div>
      <div class="kcheck-q">You're right-sizing a production Lambda role from PowerUserAccess (6,000+ permissions) to least privilege. What's the safest sequence?</div>
      <div class="kcheck-options">
        <button class="kcheck-opt" onclick="check(this,false,3)"><span class="opt-key">A</span>Replace PowerUserAccess with the minimal policy immediately ‚Äî any AccessDenied errors indicate what to add back</button>
        <button class="kcheck-opt" onclick="check(this,true,3)"><span class="opt-key">B</span>Use CloudTrail to identify the actual API calls for 90 days ‚Üí build minimal policy ‚Üí test in staging ‚Üí apply a permission boundary in production first ‚Üí replace policy after monitoring confirms no AccessDenied errors</button>
        <button class="kcheck-opt" onclick="check(this,false,3)"><span class="opt-key">C</span>Use IAM Access Advisor to identify unused services ‚Üí remove only those service permissions ‚Üí leave the rest</button>
        <button class="kcheck-opt" onclick="check(this,false,3)"><span class="opt-key">D</span>Schedule the change during a maintenance window ‚Äî if something breaks, roll back PowerUserAccess</button>
      </div>
      <div class="kcheck-feedback" id="fb-3"></div>
    </div>
    <div class="lesson-nav-footer"><button class="prev-btn" onclick="prev()">‚Üê Previous</button><button class="next-btn lab-btn" onclick="next()">Start Lab ‚Üí</button></div>
  </div>

  <!-- LAB -->
  <div class="lesson-pane lab-pane" id="pane-4">
    <div class="lesson-tag tag-lab">üî¨ Hands-On Lab</div>
    <h1>CIEM Audit<br><em>&amp; Credential Cleanup</em></h1>
    <p>Generate and analyse the IAM Credential Report, store a secret in Secrets Manager, and produce a dormant credentials CSV for your portfolio.</p>
    <div class="callout lab-note"><div class="callout-title">‚ö° Cost Note</div>Secrets Manager costs $0.40/secret/month. Create one secret for this lab and delete it at the end. Total cost: ~$0.01.</div>
    <div class="lab-steps">
      <div class="lab-step">
        <div class="step-num-wrap"><div class="step-num">1</div><div class="step-connector"></div></div>
        <div class="step-content">
          <div class="step-title">Generate &amp; Analyse IAM Credential Report <span style="font-size:12px;color:var(--muted);font-family:'IBM Plex Mono',monospace">~15 min</span></div>
          <div class="step-body">
            <ol>
              <li>IAM ‚Üí Credential Report ‚Üí Download Report</li>
              <li>Open in Excel/Google Sheets</li>
              <li>Filter: <code>access_key_1_last_used_date</code> = "N/A" or older than 90 days</li>
              <li>Flag all users without MFA enabled (<code>mfa_active = false</code>)</li>
              <li>Note: your admin user from Day 1 should have MFA = true. If any others exist, they're remediation candidates.</li>
            </ol>
          </div>
        </div>
      </div>
      <div class="lab-step">
        <div class="step-num-wrap"><div class="step-num">2</div><div class="step-connector"></div></div>
        <div class="step-content">
          <div class="step-title">Store a Secret in Secrets Manager <span style="font-size:12px;color:var(--muted);font-family:'IBM Plex Mono',monospace">~10 min</span></div>
          <div class="step-body">
            <ol>
              <li>Secrets Manager ‚Üí Store a new secret ‚Üí Other type</li>
              <li>Key: <code>db_password</code>, Value: a placeholder like <code>Lab-Secret-Day10!</code></li>
              <li>Name: <code>csm/day10/test-secret</code></li>
              <li>Disable automatic rotation (no rotation Lambda set up yet)</li>
              <li>Screenshot the secret ARN for your portfolio</li>
            </ol>
          </div>
        </div>
      </div>
      <div class="lab-step">
        <div class="step-num-wrap"><div class="step-num">3</div><div class="step-connector"></div></div>
        <div class="step-content">
          <div class="step-title">Check Access Advisor for Your Admin Role <span style="font-size:12px;color:var(--muted);font-family:'IBM Plex Mono',monospace">~10 min</span></div>
          <div class="step-body">
            <ol>
              <li>IAM ‚Üí Roles ‚Üí Select your admin role ‚Üí Access Advisor tab</li>
              <li>Identify services not accessed in the last 90 days</li>
              <li>Note these as "candidates for permission reduction" in your markdown</li>
            </ol>
          </div>
        </div>
      </div>
      <div class="lab-step">
        <div class="step-num-wrap"><div class="step-num">4</div></div>
        <div class="step-content">
          <div class="step-title">Cleanup &amp; Document <span style="font-size:12px;color:var(--muted);font-family:'IBM Plex Mono',monospace">~10 min</span></div>
          <div class="step-body">
            <ol>
              <li>Delete the test secret: Secrets Manager ‚Üí <code>csm/day10/test-secret</code> ‚Üí Delete (immediate deletion in lab context is fine)</li>
              <li>Save credential report to <code>portfolio/reports/day-10-credential-report.csv</code></li>
              <li>Write <code>DAY-10-CIEM.md</code>: findings from credential report, Access Advisor analysis, right-sizing recommendations</li>
              <li>GitHub commit: <code>"Day 10: CIEM audit complete ‚Äî credential report analysed, Secrets Manager tested"</code></li>
            </ol>
          </div>
        </div>
      </div>
    </div>
    <h2 style="font-family:'DM Serif Display',serif;font-size:20px;color:#e4eaf6;margin:32px 0 16px;font-weight:400">Lab Completion Checklist</h2>
    <div class="checklist-progress"><div class="checklist-progress-bar"><div class="checklist-progress-fill" id="cl-fill"></div></div><span class="checklist-progress-label" id="cl-label">0 / 6</span></div>
    <div class="checklist">
      <div class="check-item" onclick="toggleCheck(this,0)"><div class="check-box">‚úì</div><div class="check-text">IAM Credential Report downloaded and analysed in spreadsheet</div></div>
      <div class="check-item" onclick="toggleCheck(this,1)"><div class="check-box">‚úì</div><div class="check-text">Dormant credentials (90+ days unused) identified and flagged</div></div>
      <div class="check-item" onclick="toggleCheck(this,2)"><div class="check-box">‚úì</div><div class="check-text">Test secret created in Secrets Manager and ARN documented</div></div>
      <div class="check-item" onclick="toggleCheck(this,3)"><div class="check-box">‚úì</div><div class="check-text">Access Advisor checked for admin role ‚Äî unused services noted</div></div>
      <div class="check-item" onclick="toggleCheck(this,4)"><div class="check-box">‚úì</div><div class="check-text">Test secret deleted from Secrets Manager</div></div>
      <div class="check-item" onclick="toggleCheck(this,5)"><div class="check-box">‚úì</div><div class="check-text">DAY-10-CIEM.md written with findings and committed to GitHub</div></div>
    </div>
    <div class="lesson-nav-footer"><button class="prev-btn" onclick="prev()">‚Üê Previous</button><button class="next-btn lab-btn" onclick="finish()">Complete Day 10 ‚úì</button></div>
  </div>

  <!-- COMPLETION -->
  <div class="lesson-pane" id="pane-complete">
    <div class="completion-card">
      <span class="completion-icon">üóùÔ∏è</span>
      <h1>Day 10 Complete!</h1>
      <p>You understand entitlement sprawl, can audit credentials with the IAM Credential Report, manage secrets with Secrets Manager, and right-size permissions using last-accessed data.</p>
      <div class="score-pill"><span>‚ö°</span> Quiz: <span id="score-val">‚Äî</span></div><br>
      <div class="lab-score-pill"><span>üî¨</span> Lab: <span id="lab-score-val">‚Äî</span></div>
      <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap">
        <a href="../index.html" style="text-decoration:none"><button class="prev-btn">‚Üê Course Index</button></a>
        <a href="day-11.html" style="text-decoration:none"><button class="next-btn">Day 11: IaC Security ‚Üí</button></a>
      </div>
    </div>
  </div>
</div>
</div>
<script src="csm-core.js"></script>
<script>
initPage({
  storageKey: 'csm-day10',
  total: 5,
  quizCount: 4,
  checkTotal: 6,
  titles: ['Entitlement Sprawl','Secrets Manager','Credential Reports & Last-Accessed','Right-Sizing Permissions','Hands-on: CIEM Audit & Cleanup'],
  fb: {
  0:{good:"Correct. Unused permissions are not harmless ‚Äî they represent the attacker's available actions if credentials are compromised. A role with 500 permissions in 15 services gives an attacker massive lateral movement capability. The developer only needs DynamoDB read access.",bad:"Not quite. Unused permissions are not safe ‚Äî they represent the blast radius of a compromise. If the developer's credentials are stolen, the attacker inherits all 500 permissions, not just the ones the developer regularly uses."},
  1:{good:"Correct. Both steps are critical: rotate immediately (the exposed password is compromised), and migrate to Secrets Manager so this can never happen again ‚Äî automatic rotation means no static credential ever needs to be stored in code or config.",bad:"Not quite. Deleting the repo doesn't help ‚Äî GitHub exposure means the credential was potentially already scraped by bots (this happens within seconds of public exposure). The password must be rotated immediately, and then migrated to Secrets Manager to prevent recurrence."},
  2:{good:"Correct. Never delete blindly ‚Äî investigate first. The 400-day gap suggests the permissions are unused, but confirm by checking CloudTrail and talking to the role's owner. Then either remove S3 permissions entirely or scope them to specific buckets and operations actually needed.",bad:"Not quite. You can't delete immediately without investigation ‚Äî the role might be used by an automated process that runs infrequently. And leaving it alone perpetuates the sprawl. The correct approach: investigate ‚Üí confirm unused ‚Üí right-size or remove."},
  3:{good:"Correct. The safe sequence uses observability (CloudTrail 90 days) to build a minimal policy based on evidence, tests in staging, then applies a permission boundary in production as a safety net before swapping the policy ‚Äî with monitoring to catch any gaps.",bad:"Not quite. Replacing permissions immediately in production and using AccessDenied errors as feedback is operationally risky ‚Äî it will break production. The safe approach builds the minimal policy from CloudTrail evidence, tests it, then applies it with monitoring."}
}
});
</script>
</body>
</html>
